//
//  AppDelegate.swift
//  SwiftDemo
//
//  Created by dzcx on 2019/7/17.
//  Copyright Â© 2019 dzcx. All rights reserved.
//

// MARK: swiftæŸ¥çœ‹å†…å­˜åœ°å€å°å·¥å…·Mems
// https://github.com/CoderMJLee/Mems.git

// MARK: å·¥å…·
// Zeplin Lookin3

// =====github=====
// https://github.com/devicekit/DeviceKit

// å¤§å“¥blog: swiftç¼–ç¨‹è§„èŒƒ
// https://note.u-inn.cn/ios-swift-style/

// github swift demo
// https://github.com/hilen/TSWeChat

// RxSwift
// https://www.jianshu.com/p/f61a5a988590

// RxSwift ä¸­æ–‡æ–‡æ¡£
// https://beeth0ven.github.io/RxSwift-Chinese-Documentation/

// ##swift##
// http://www.hangge.com/blog/cache/category_72_1.html

// Moya-ObjectMapper
// https://github.com/ivanbruel/Moya-ObjectMapper

// ###RxSwiftCommunity###
// https://github.com/RxSwiftCommunity
// RxAlamofire
// https://github.com/RxSwiftCommunity/RxAlamofire
// RxDataSources
// https://github.com/RxSwiftCommunity/RxDataSources

// Date
// https://github.com/malcommac/SwiftDate

// MARK: å†™æ—¶å¤åˆ¶(copy-on-write)
/**
 var array1: [Int] = [0, 1, 2, 3]
 var array2 = array1

 print(address: array1) //0x600000078de0
 print(address: array2) //0x600000078de0

 array2.append(4)
 print(address: array2) //0x6000000aa100
 */

// MARK: gitlab
/**
 Gitlab-CIæ˜¯GitLab Continuous Integrationï¼ˆGitlabæŒç»­é›†æˆï¼‰çš„ç®€ç§°
 æŒç»­é›†æˆæ˜¯ä¸€ä¸ªè½¯ä»¶å·¥ç¨‹æ¦‚å¿µï¼Œè¡¨ç¤ºä¸æ–­çš„å°†ä»£ç é›†æˆåˆ°ä¸»å¹²åˆ†æ”¯çš„è¡Œä¸º
 æ¯æ¬¡æˆ‘ä»¬é›†æˆä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç³»ç»Ÿèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®Œæˆä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚è¯´æ„å»ºé¡¹ç›®ï¼Œæ‰“åŒ…ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„æŒç»­é€’äº¤
 
 Gitlab-CIé…ç½®èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦å¼€å¯Gitlab-runnerå’Œä¹¦å†™.gitlab-ci.ymlæ–‡ä»¶å³å¯å®Œæˆ
 Runnerçš„ä½œç”¨æ˜¯è¿è¡Œå®šä¹‰åœ¨.gitlab-ci.ymlæ–‡ä»¶é‡Œçš„ä»£ç ã€‚Runnerå¯ä»¥çœ‹åšä¸€ç§è™šæ‹Ÿæœº
 Runneråˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯å¯ä»¥ä½œç”¨äºä»»ä½•é¡¹ç›®çš„Runnerï¼Œå«åšShared Runnerã€‚è¿˜æœ‰ä¸€ç§åªèƒ½ä½œç”¨äºç‰¹å®šçš„é¡¹ç›®ï¼Œå«åšSpecified Runner
 å¦‚æœè‹¥å¹²ä¸ªé¡¹ç›®æ‹¥æœ‰ç›¸ä¼¼çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨Shared Runnerï¼Œé¿å…ä½¿ç©ºé—²çš„Runnerè¿‡å¤šã€‚å¦‚æœæŸä¸ªé¡¹ç›®çš„CIæ´»åŠ¨éå¸¸é¢‘ç¹ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨Specified Runner
 
 ä¸€èˆ¬ä¸è¦åœ¨å®‰è£…äº†Gitlabçš„æœºå™¨ä¸Šé¢éƒ¨ç½²Runnerï¼Œå› ä¸ºä¸¤è€…éƒ½ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ï¼Œä¼šå¼•èµ·æ€§èƒ½é—®é¢˜
 
 https://docs.gitlab.com/runner/install/osx.html // runner
 */

// MARK: git
/**
 git push <è¿œç¨‹ä¸»æœºå> <æœ¬åœ°åˆ†æ”¯å>  <è¿œç¨‹åˆ†æ”¯å>
 
 git push origin master
 å¦‚æœè¿œç¨‹åˆ†æ”¯è¢«çœç•¥ï¼Œå¦‚ä¸Šåˆ™è¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å­˜åœ¨è¿½è¸ªå…³ç³»çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»º
 */

// MARK: åŸå­æ“ä½œ
/**
 å¯¹äºä¸€ä¸ªèµ„æºï¼Œåœ¨å†™å…¥æˆ–è¯»å–æ—¶ï¼Œåªå…è®¸åœ¨ä¸€ä¸ªæ—¶åˆ»ä¸€ä¸ªè§’è‰²è¿›è¡Œæ“ä½œï¼Œåˆ™ä¸ºåŸå­æ“ä½œ
 å¯¹äº let å£°æ˜çš„èµ„æºï¼Œæ°¸è¿œæ˜¯åŸå­æ€§çš„ã€‚
 å¯¹äº var å£°æ˜çš„èµ„æºï¼Œæ˜¯éåŸå­æ€§çš„ï¼Œå¯¹å…¶è¿›è¡Œè¯»å†™æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ä¸€å®šçš„æ‰‹æ®µï¼Œç¡®ä¿å…¶å€¼çš„æ­£ç¡®æ€§
 */

/*
 RxSwift: å“åº”å¼ç¼–ç¨‹
 Rx æ˜¯ ReactiveX çš„ç¼©å†™ (reactive:æœ‰ååº”çš„)
 http://reactivex.io/
 */

// Swift4.0
/*
 Swift3 æ–°å¢äº† #keyPath()
 Swift4 ä¸­ç›´æ¥ç”¨ \ ä½œä¸ºå¼€å¤´åˆ›å»º KeyPath
 ç±»å‹å¯ä»¥å®šä¹‰ä¸º classã€struct
 å®šä¹‰ç±»å‹æ—¶æ— éœ€åŠ ä¸Š @objc ç­‰å…³é”®å­—
 user1.value(forKeyPath: #keyPath(User.name)) è¿”å›çš„ç±»å‹æ˜¯ Anyï¼Œuser1[keyPath: \User.name] ç›´æ¥è¿”å› String ç±»å‹
 ä½¿ç”¨ appending æ–¹æ³•å‘å·²å®šä¹‰çš„ Key Path åŸºç¡€ä¸Šå¡«åŠ æ–°çš„ Key Pathã€‚
 let keyPath1 = \User.phone
 let keyPath2 = keyPath1.appending(path: \.number)
 
 ç±»ä¸åè®®çš„ç»„åˆç±»å‹:
 #åœ¨ Swift4 ä¸­ï¼Œå¯ä»¥æŠŠç±»ï¼ˆClassï¼‰å’Œåè®®ï¼ˆProtocolï¼‰ç”¨ & ç»„åˆåœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªç±»å‹ä½¿ç”¨
 #åœ¨ Swift4 ä¸­, private å±æ€§ä½œç”¨åŸŸæ‰©å¤§åˆ° extension
 
 ä¸‹æ ‡æ”¯æŒæ³›å‹:
 ä¸‹æ ‡çš„è¿”å›ç±»å‹æ”¯æŒæ³›å‹
 ä¸‹æ ‡ç±»å‹åŒæ ·æ”¯æŒæ³›å‹
 struct GenericDictionary<Key: Hashable, Value> {
 private var data: [Key: Value]
 
 init(data: [Key: Value]) {
 self.data = data
 }
 
 subscript<T>(key: Key) -> T? {
 return data[key] as? T
 }
 }
 
 Codable åºåˆ—åŒ–:
 å¦‚æœè¦å°†ä¸€ä¸ªå¯¹è±¡æŒä¹…åŒ–ï¼Œéœ€è¦æŠŠè¿™ä¸ªå¯¹è±¡åºåˆ—åŒ–ã€‚è¿‡å»çš„åšæ³•æ˜¯å®ç° NSCoding åè®®ï¼Œä½†å®ç° NSCoding åè®®çš„ä»£ç å†™èµ·æ¥å¾ˆç¹çï¼Œå°¤å…¶æ˜¯å½“å±æ€§éå¸¸å¤šçš„æ—¶å€™ã€‚
 Swift4 ä¸­å¼•å…¥äº† Codable åè®®ï¼Œå¯ä»¥å¤§å¤§å‡è½»äº†æˆ‘ä»¬çš„å·¥ä½œé‡ã€‚æˆ‘ä»¬åªéœ€è¦è®©éœ€è¦åºåˆ—åŒ–çš„å¯¹è±¡ç¬¦åˆ Codable åè®®å³å¯ï¼Œä¸ç”¨å†å†™ä»»ä½•å…¶ä»–çš„ä»£ç 
 struct Language: Codable {
 var name: String
 var version: Int
 }
 
 Encode æ“ä½œ
 let swift = Language(name: "Swift", version: 4)
 
 //encodedå¯¹è±¡
 let encodedData = try JSONEncoder().encode(swift)
 
 //ä»encodedå¯¹è±¡è·å–String
 let jsonString = String(data: encodedData, encoding: .utf8)
 print(jsonString)
 
 Decode æ“ä½œ
 let decodedData = try JSONDecoder().decode(Language.self, from: encodedData)
 print(decodedData.name, decodedData.version)
 
 Swift 4 ä¸­æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–å°±æ˜¯ String å¯ä»¥å½“åš Collection æ¥ç”¨ï¼Œå¹¶ä¸æ˜¯å› ä¸º String å®ç°äº† Collection åè®®:
 
 swap() æ–¹æ³•å°†ä¼šè¢«åºŸå¼ƒï¼Œå»ºè®®ä½¿ç”¨ tupleï¼ˆå…ƒç»„ï¼‰ç‰¹æ€§æ¥å®ç°å€¼äº¤æ¢ï¼Œä¹Ÿåªéœ€è¦ä¸€å¥è¯å°±èƒ½å®ç°ï¼š
 var a = 1
 var b = 2
 (b, a) = (a, b)
 
 
 è¿‡å»çš„æƒ…å†µï¼ˆSwift3ï¼‰å¦‚æœæƒ³æŠŠ Swift å†™çš„ API æš´éœ²ç»™ Objective-C è°ƒç”¨ï¼Œéœ€è¦å¢åŠ  @objcã€‚åœ¨ Swift 3 ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å¾ˆå¤šåœ°æ–¹ä¸ºæˆ‘ä»¬éšå¼çš„åŠ ä¸Š @objc
 æ¯”å¦‚å½“ä¸€ä¸ªç±»ç»§æ‰¿äº NSObjectï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šè¢«éšå¼çš„åŠ ä¸Š @objcã€‚
 class MyClass: NSObject {
 func print() { } // åŒ…å«éšå¼çš„ @objc
 func show() { } // åŒ…å«éšå¼çš„ @objc
 }
 åœ¨ Swift 4 ä¸­éšå¼ @objc è‡ªåŠ¨æ¨æ–­åªä¼šå‘ç”Ÿåœ¨ä¸‹é¢è¿™ç§å¿…é¡»è¦ä½¿ç”¨ @objc çš„æƒ…å†µ
 è¦†ç›–çˆ¶ç±»çš„ Objective-C æ–¹æ³•
 ç¬¦åˆä¸€ä¸ª Objective-C çš„åè®®
 
 å¤§å¤šæ•°åœ°æ–¹å¿…é¡»æ‰‹å·¥æ˜¾ç¤ºåœ°åŠ ä¸Š @objcã€‚
 class MyClass: NSObject {
 @objc func print() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
 @objc func show() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
 }
 å¦‚æœåœ¨ç±»å‰åŠ ä¸Š @objcMembersï¼Œé‚£ä¹ˆå®ƒã€å®ƒçš„å­ç±»ã€æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objc
 å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @objcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objc
 å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @nonobjcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¸ä¼šéšå¼çš„åŠ ä¸Š @objc
 
 MARK:å•ä¾‹
 1.é™æ€å¸¸é‡
 class MyClass {
 static let shared = MyClass()
 private init() { }
 }
 
 2.å…¨å±€å˜é‡
 fileprivate let sharedInstance = MyClass()
 class MyClass {
 
 static var shared: MyClass {
 return sharedInstance
 }
 
 fileprivate init() { }
 }
 
 Swiftåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­å®šä¹‰äº†è¿™ä¹ˆå¤šè§„åˆ™, å½’æ ¹åˆ°åº•æ˜¯ä¸ºäº†æ‰€æœ‰å±æ€§èƒ½è¢«åˆå§‹åŒ–
 ä¾¿åˆ©æ„é€ å™¨æ˜¯å¯¹ç±»åˆå§‹åŒ–æ–¹æ³•çš„è¡¥å……
 convenienceçš„ä¸€èˆ¬ç”¨æ³•: æ‰©å±•ç±»çš„æ„é€ å‡½æ•°
 */

// MARK:swiftæºç è§£æ
// https://www.jianshu.com/u/a4b11b398b1e

// MARK: Swift 3.0
/**
 åœ¨ Swift 3 ä¸­ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å¾ˆå¤šåœ°æ–¹ä¸ºæˆ‘ä»¬éšå¼çš„åŠ ä¸Š @objcã€‚
 å½“ä¸€ä¸ªç±»ç»§æ‰¿äº NSObjectï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¼šè¢«éšå¼çš„åŠ ä¸Š @objcã€‚
 class MyClass: NSObject {
     func print() { } // åŒ…å«éšå¼çš„ @objc
     func show() { } // åŒ…å«éšå¼çš„ @objc
 }
 ä½†è¿™æ ·åšå¾ˆå¤šå¹¶ä¸éœ€è¦æš´éœ²ç»™ Objective-C ä¹Ÿè¢«åŠ ä¸Šäº† @objcã€‚è€Œå¤§é‡ @objc ä¼šå¯¼è‡´äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°çš„å¢åŠ 
 
 swift 4.0
 åœ¨ Swift 4 ä¸­éšå¼ @objc è‡ªåŠ¨æ¨æ–­åªä¼šå‘ç”Ÿåœ¨ä¸‹é¢è¿™ç§å¿…é¡»è¦ä½¿ç”¨ @objc çš„æƒ…å†µï¼š
 è¦†ç›–çˆ¶ç±»çš„ Objective-C æ–¹æ³•
 ç¬¦åˆä¸€ä¸ª Objective-C çš„åè®®
 
 å¤§å¤šæ•°åœ°æ–¹å¿…é¡»æ‰‹å·¥æ˜¾ç¤ºåœ°åŠ ä¸Š @objcã€‚
 class MyClass: NSObject {
     @objc func print() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
     @objc func show() { } //æ˜¾ç¤ºçš„åŠ ä¸Š @objc
 }
 
 å¦‚æœåœ¨ç±»å‰åŠ ä¸Š @objcMembersï¼Œé‚£ä¹ˆå®ƒã€å®ƒçš„å­ç±»ã€æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
 @objcMembers
 class MyClass: NSObject {
     func print() { } //åŒ…å«éšå¼çš„ @objc
     func show() { } //åŒ…å«éšå¼çš„ @objc
 }
  
 extension MyClass {
     func baz() { } //åŒ…å«éšå¼çš„ @objc
 }
 
 å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @objcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
 class SwiftClass { }
  
 @objc extension SwiftClass {
     func foo() { } //åŒ…å«éšå¼çš„ @objc
     func bar() { } //åŒ…å«éšå¼çš„ @objc
 }
 
 å¦‚æœåœ¨æ‰©å±•ï¼ˆextensionï¼‰å‰åŠ ä¸Š @nonobjcï¼Œé‚£ä¹ˆè¯¥æ‰©å±•é‡Œçš„æ–¹æ³•éƒ½ä¸ä¼šéšå¼çš„åŠ ä¸Š @objcã€‚
 @objcMembers
 class MyClass : NSObject {
     func wibble() { } //åŒ…å«éšå¼çš„ @objc
 }
  
 @nonobjc extension MyClass {
     func wobble() { } //ä¸ä¼šåŒ…å«éšå¼çš„ @objc
 }
 
 */

/*
 MARK:Swift4.0
 
 Swift çš„é™æ€è¯­è¨€ç‰¹æ€§ï¼Œæ¯ä¸ªå‡½æ•°çš„è°ƒç”¨åœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®š
 
 CaseInterableåè®®:
 
 æ£€æŸ¥åºåˆ—å…ƒç´ æ˜¯å¦ç¬¦åˆæ¡ä»¶:
 let scores = [86, 88, 95, 92]
 //è¿”å›ä¸€ä¸ªBOOL
 let passed = scores.allSatisfy({ $0 > 85 })
 
 å¸ƒå°”åˆ‡æ¢:
 toggle()æ–¹æ³•
 
 #warningå’Œ#errorç¼–è¯‘æŒ‡ä»¤:
 */

/*
 MARK:static ä¸ class çš„åŒºåˆ«:
 static å¯ä»¥åœ¨ç±»ã€ç»“æ„ä½“ã€æˆ–è€…æšä¸¾ä¸­ä½¿ç”¨ã€‚è€Œ class åªèƒ½åœ¨ç±»ä¸­ä½¿ç”¨ã€‚
 static å¯ä»¥ä¿®é¥°å­˜å‚¨å±æ€§ï¼Œstatic ä¿®é¥°çš„å­˜å‚¨å±æ€§ç§°ä¸ºé™æ€å˜é‡(å¸¸é‡)ã€‚è€Œ class ä¸èƒ½ä¿®é¥°å­˜å‚¨å±æ€§ã€‚
 static ä¿®é¥°çš„è®¡ç®—å±æ€§ä¸èƒ½è¢«é‡å†™ã€‚è€Œ class ä¿®é¥°çš„å¯ä»¥è¢«é‡å†™ã€‚
 static ä¿®é¥°çš„é™æ€æ–¹æ³•ä¸èƒ½è¢«é‡å†™ã€‚è€Œ class ä¿®é¥°çš„ç±»æ–¹æ³•å¯ä»¥è¢«é‡å†™ã€‚
 class ä¿®é¥°çš„è®¡ç®—å±æ€§è¢«é‡å†™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ static è®©å…¶å˜ä¸ºé™æ€å±æ€§ã€‚
 class ä¿®é¥°çš„ç±»æ–¹æ³•è¢«é‡å†™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ static è®©æ–¹æ³•å˜ä¸ºé™æ€æ–¹æ³•
 */

// MARK: å‡½æ•°å¼ç¼–ç¨‹
/**
 Functor å’Œ Monad éƒ½æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µ
 
 Functoræ„å‘³ç€å®ç°äº† map æ–¹æ³•ï¼Œè€ŒMonadæ„å‘³ç€å®ç°äº†flatMap
 å› æ­¤ Optional ç±»å‹å’Œ Array ç±»å‹éƒ½æ—¢æ˜¯ Functor åˆæ˜¯ Monadï¼Œä¸Resultä¸€æ ·ï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€ç§å¤åˆç±»å‹ï¼Œæˆ–è€…å« Wrapper ç±»å‹
 
 map æ–¹æ³•ï¼šä¼ å…¥çš„ transform å‡½æ•°çš„ å…¥å‚æ˜¯ Wrapped ç±»å‹ï¼Œè¿”å›çš„æ˜¯ Wrapped ç±»å‹
 flatMap æ–¹æ³•ï¼šä¼ å…¥çš„ transform å‡½æ•°çš„ å…¥å‚æ˜¯ Wrapped ç±»å‹ï¼Œè¿”å›çš„æ˜¯ Wrapper ç±»å‹
 */

struct Point {
    var x: Double
    var y: Double
}

struct TestPoint {
    let x: Double
    let y: Double
    let isFilled: Bool
}

enum Season{
    case spring(Int,Int,Int),
         summer(String,String,String),
         autumn(Bool,Bool,Bool),
         winter(Int,Int),
         unknown(Bool)
}

import UIKit
import Accelerate

@UIApplicationMain
// markdown
/**
 # ä¸€çº§æ ‡é¢˜
 1.
 2.
 ## äºŒçº§æ ‡é¢˜
 -
 -
 [å®˜ç½‘](https:XXX) é“¾æ¥
 */

// markupè¯­æ³• åªåœ¨playgroundä¸­èƒ½ç”¨
//: # ä¸€çº§æ ‡é¢˜

// MARK: swiftæ”¯æŒå¤šè¡Œæ³¨é‡Šçš„åµŒå¥—
/*
 1
 /*
 ======
 */
 2.
 */

// MARK: Bool
/**
 /*
 Cè¯­è¨€å’ŒOCå¹¶æ²¡æœ‰çœŸæ­£çš„Boolç±»å‹
 Cè¯­è¨€çš„Boolç±»å‹é0å³çœŸ
 OCä¸­ifå¯ä»¥æ˜¯ä»»ä½•æ•´æ•°(é0å³çœŸ),
 OCè¯­è¨€çš„Boolç±»å‹æ˜¯typedef signed char BOOL;

 Swiftå¼•å…¥äº†çœŸæ­£çš„Boolç±»å‹
 Bool true false
 Swiftä¸­çš„ifçš„æ¡ä»¶åªèƒ½æ˜¯ä¸€ä¸ªBoolçš„å€¼æˆ–è€…æ˜¯è¿”å›å€¼æ˜¯Boolç±»å‹çš„è¡¨è¾¾å¼(==/!=/>/<ç­‰ç­‰)
 */
 */

// MARK:staticã€constã€extern
/**
 staticå…³é”®å­—ï¼š
 ä¿®é¥°å±€éƒ¨å˜é‡æ—¶ï¼š
 1ã€ä½¿å¾—å±€éƒ¨å˜é‡åªåˆå§‹åŒ–ä¸€æ¬¡
 2ã€å±€éƒ¨å˜é‡åœ¨ç¨‹åºä¸­åªæœ‰ä¸€ä»½å†…å­˜
 3ã€å±€éƒ¨å˜é‡ä½œç”¨åŸŸä¸å˜ï¼Œä½†æ˜¯ç”Ÿå‘½å‘¨æœŸæ”¹å˜äº†ï¼ˆç¨‹åºç»“æŸæ‰èƒ½é”€æ¯ï¼‰
 ä¿®é¥°å…¨å±€å˜é‡ï¼š
 1ã€å…¨å±€å˜é‡çš„ä½œç”¨åŸŸä»…é™å½“å‰æ–‡ä»¶ï¼Œå¤–éƒ¨ç±»æ˜¯ä¸å¯ä»¥è®¿é—®åˆ°è¯¥å…¨å±€å˜é‡çš„ã€‚
 
 è¢«constä¿®é¥°çš„å˜é‡æ˜¯åªè¯»çš„ï¼š
 åŸºæœ¬æ•°æ®ç±»å‹ï¼š
 int const a = 10; å’Œconst int b = 20; æ•ˆæœæ˜¯ä¸€æ ·çš„ åªè¯»å¸¸é‡
 æŒ‡é’ˆç±»å‹ï¼š
 NSString *p;
 *pæ˜¯åœ°å€ä¸­çš„å€¼ï¼Œpæ˜¯æŒ‡é’ˆåœ°å€ã€‚
 NSString const *p è¡¨ç¤ºåœ°å€ä¸­çš„å€¼æ²¡æ³•æ”¹å˜ï¼Œä½†æ˜¯æŒ‡é’ˆçš„æŒ‡å‘å¯ä»¥æ”¹å˜ï¼›
 è€Œ NSString *const p è¡¨ç¤ºæŒ‡é’ˆçš„æŒ‡å‘ä¸èƒ½æ”¹å˜ï¼Œä½†æ˜¯åœ°å€é‡Œçš„å†…å®¹æ˜¯å¯ä»¥æ”¹å˜çš„
 
 extern å¤–éƒ¨å¸¸é‡çš„æœ€ä½³æ–¹æ³•ï¼š
 extern const å…³é”®å­—ï¼Œè¡¨ç¤ºè¿™ä¸ªå˜é‡å·²ç»å£°æ˜ï¼Œåªæ˜¯å¼•ç”¨ï¼Œä¸”ä¸å¯ä¿®æ”¹
 .mæ–‡ä»¶ä¸­å®šä¹‰çš„å¸¸é‡ï¼Œç”¨constä¿®é¥°ä»£è¡¨å¸¸é‡ã€‚å…¶ä¸­const CGFloat a = 10.f; å’Œ CGFloat const a = 10.f;ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼Œéƒ½ä»£è¡¨aå€¼ä¸ºå¸¸é‡ï¼Œä¸å¯ä¿®æ”¹ã€‚ä½†æ˜¯å¤–éƒ¨å¯é€šè¿‡extern CGFloat a;å¼•ç”¨è¯¥å˜é‡
 å…¨å±€å˜é‡è‹¥åªæƒ³è¢«è¯¥æ–‡ä»¶æ‰€æŒæœ‰ï¼Œä¸å¸Œæœ›è¢«å¤–ç•Œå¼•ç”¨ï¼Œåˆ™ç”¨staticä¿®é¥°ï¼Œä¹Ÿå°±æ˜¯static const CGFloat a = 10.f;å’Œ static CGFloat const a = 10.fï¼›
 */

// MARK: å¤§ä½¬ä¼˜åŒ–blog
/**
 https://juejin.im/user/5b9b0ef16fb9a05d353c6418/posts
 å†·å¯åŠ¨ä¼˜åŒ–
 https://juejin.im/post/5e4bbbe15188254945385eb5
 
 
 
 
 MLeaksFinder æ˜¯ WeRead å›¢é˜Ÿå¼€æºçš„iOSå†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·
 https://github.com/Tencent/MLeaksFinder
 */

// MARK: ==Charles==
/**
 è®¾ç½®ç½‘ç»œï¼Œè¿›è¡ŒæŠ“åŒ…:
 å°†ç§»åŠ¨è®¾å¤‡å’Œç”µè„‘è®¾å¤‡è®¾ç½®ä¸ºåŒä¸€ä¸ªç½‘ç»œï¼Œå³è¿æ¥åŒä¸€ä¸ªWi-Fiã€‚
 åˆ©ç”¨ç”µè„‘æŸ¥è¯¢IPåœ°å€
 è®¾ç½®ç§»åŠ¨è®¾å¤‡çš„ç½‘ç»œä»£ç†æ¨¡å¼ è¿›å…¥è¿æ¥çš„æ— çº¿ç½‘çš„é«˜çº§æ¨¡å¼
 è¿›å…¥HTTPä»£ç†æ¨¡å¼ï¼Œç„¶åé€‰æ‹©æ‰‹åŠ¨ï¼Œå¹¶åœ¨æœåŠ¡å™¨ä¸­å¡«å†™è‡ªå·±æŸ¥åˆ°çš„IPåœ°å€ï¼Œç„¶ååœ¨ç«¯å£ä¸­å¡«å†™8888ï¼Œæœ€åå­˜å‚¨è®¾ç½®ã€‚

 */

// MARK: ==ç¦»å±æ¸²æŸ“ ï¼ˆOffscreen renderingï¼‰==
/**
 iOS 9.0 ä¹‹å‰UIimageViewè·ŸUIButtonè®¾ç½®åœ†è§’éƒ½ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ã€‚
 iOS 9.0 ä¹‹åUIButtonè®¾ç½®åœ†è§’ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼Œè€ŒUIImageViewé‡Œpngå›¾ç‰‡è®¾ç½®åœ†è§’ä¸ä¼šè§¦å‘ç¦»å±æ¸²æŸ“äº†ï¼Œå¦‚æœè®¾ç½®å…¶ä»–é˜´å½±æ•ˆæœä¹‹ç±»çš„è¿˜æ˜¯ä¼šè§¦å‘ç¦»å±æ¸²æŸ“çš„
 1.é€šè¿‡è®¾ç½®layerçš„å±æ€§
 maskToBoundsä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼ŒGPUåœ¨å½“å‰å±å¹•ç¼“å†²åŒºå¤–æ–°å¼€è¾Ÿäº†ä¸€ä¸ªæ¸²æŸ“ç¼“å†²åŒºè¿›è¡Œå·¥ä½œï¼Œä¹Ÿå°±æ˜¯ç¦»å±æ¸²æŸ“ï¼Œè¿™ä¼šç»™æˆ‘ä»¬å¸¦æ¥é¢å¤–çš„æ€§èƒ½æŸè€—ï¼Œå¦‚æœè¿™æ ·çš„åœ†è§’æ“ä½œè¾¾åˆ°ä¸€å®šæ•°é‡ï¼Œä¼šè§¦å‘ç¼“å†²åŒºçš„é¢‘ç¹åˆå¹¶å’Œä¸Šä¸‹æ–‡çš„é¢‘ç¹åˆ‡æ¢ï¼Œæ€§èƒ½çš„ä»£ä»·ä¼šå®è§‚çš„è¡¨ç°åœ¨ç”¨æˆ·ä½“éªŒä¸Š<æ‰å¸§>
 
 å¯¹äºæ–‡æœ¬è§†å›¾å®ç°åœ†è§’ï¼ˆUILabel, UIView, UITextField, UITextViewï¼‰
 å‡åªè¿›è¡ŒcornerRadiusè®¾ç½®ï¼Œä¸è¿›è¡ŒmasksToBoundsçš„è®¾ç½®
 å¯¹äºUILabel, UIView, UITextFieldæ¥è¯´ï¼Œå®ç°äº†åœ†è§’çš„è®¾ç½®ï¼Œå¹¶æ²¡æœ‰äº§ç”Ÿç¦»å±æ¸²æŸ“ï¼›
 è€Œå¯¹äºUITextViewï¼Œäº§ç”Ÿäº†ç¦»å±æ¸²æŸ“
 
 2.ä½¿ç”¨è´å¡å°”æ›²çº¿UIBezierPathå’ŒCore Graphicsæ¡†æ¶ç”»å‡ºä¸€ä¸ªåœ†è§’
 UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(100, 100, 100, 100)];
  imageView.image = [UIImage imageNamed:@"TestImage.jpg"];
  // å¼€å§‹å¯¹imageViewè¿›è¡Œç”»å›¾
  UIGraphicsBeginImageContextWithOptions(imageView.bounds.size, NO, 0.0);
  // ä½¿ç”¨è´å¡å°”æ›²çº¿ç”»å‡ºä¸€ä¸ªåœ†å½¢å›¾
  [[UIBezierPath bezierPathWithRoundedRect:imageView.bounds cornerRadius:imageView.frame.size.width] addClip];
  [imageView drawRect:imageView.bounds];
  imageView.image = UIGraphicsGetImageFromCurrentImageContext();
  // ç»“æŸç”»å›¾
  UIGraphicsEndImageContext();
  [self.view addSubview:imageView];
 
 UIGraphicsBeginImageContextWithOption(CGSize size, BOOL opaque, CGFloat scale)å„å‚æ•°çš„å«ä¹‰ï¼š
 size ---æ–°åˆ›å»ºçš„æ–‡å›¾ä¸Šä¸‹æ–‡å¤§å°
 opaque --- é€æ˜å¼€å…³ï¼Œå¦‚æœå›¾å½¢å®Œå…¨ä¸ç”¨é€æ˜ï¼Œè®¾ç½®ä¸ºYESä»¥ä¼˜åŒ–ä½å›¾çš„å­˜å‚¨ã€‚
 scale --- ç¼©æ”¾å› å­ã€‚è™½ç„¶è¿™é‡Œå¯ä»¥ç”¨[UIScreen mainScreen].scaleæ¥è·å–ï¼Œä½†å®é™…ä¸Šè®¾ä¸º0åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è®¾ç½®æ­£ç¡®çš„æ¯”ä¾‹

  3.ä½¿ç”¨Core Graphicsæ¡†æ¶ç”»å‡ºä¸€ä¸ªåœ†è§’
 UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(100, 200, 100, 100)];
 imageView.image = [UIImage imageNamed:@"TestImage.jpg"];

 // å¼€å§‹å¯¹imageViewè¿›è¡Œç”»å›¾
 UIGraphicsBeginImageContextWithOptions(imageView.bounds.size, NO, 0.0);

 // è·å–å›¾å½¢ä¸Šä¸‹æ–‡
 CGContextRef ctx = UIGraphicsGetCurrentContext();

 // è®¾ç½®ä¸€ä¸ªèŒƒå›´
 CGRect rect = CGRectMake(0, 0, imageView.frame.size.width, imageView.frame.size.height);

 // æ ¹æ®ä¸€ä¸ªrectåˆ›å»ºä¸€ä¸ªæ¤­åœ†
 CGContextAddEllipseInRect(ctx, rect);

 // è£å‰ª
 CGContextClip(ctx);

 // è®²åŸç…§ç‰‡ç”»åˆ°å›¾å½¢ä¸Šä¸‹æ–‡
 [imageView.image drawInRect:rect];

 // ä»ä¸Šä¸‹æ–‡ä¸Šè·å–è£å‰ªåçš„ç…§ç‰‡
 UIImage *image = UIGraphicsGetImageFromCurrentImageContext();

 // å…³é—­ä¸Šä¸‹æ–‡
 UIGraphicsEndImageContext();
 imageView.image = image;
 [self.view addSubview:imageView];

  4.ä½¿ç”¨CAShapeLayerå’ŒUIBezierPathè®¾ç½®åœ†è§’
 UIImageView *imageView = [[UIImageView alloc]initWithFrame:CGRectMake(100, 200, 100, 100)];
 imageView.image = [UIImage imageNamed:@"TestImage.jpg"];
 UIBezierPath *maskPath = [UIBezierPath bezierPathWithRoundedRect:imageView.bounds byRoundingCorners:UIRectCornerAllCorners
 cornerRadii:imageView.bounds.size];
 CAShapeLayer *maskLayer = [[CAShapeLayer alloc]init];
 // è®¾ç½®å¤§å°
 maskLayer.frame = imageView.bounds;
 // è®¾ç½®å›¾å½¢æ ·å­
 maskLayer.path = maskPath.CGPath;
 imageView.layer.mask = maskLayer;
 [self.view addSubview:imageView];
 ç¬¬å››ç§æ–¹æ³•å¹¶ä¸å¯å–ï¼Œå­˜åœ¨ç¦»å±æ¸²æŸ“.æ‰å¸§æ›´åŠ ä¸¥é‡ã€‚åŸºæœ¬ä¸Šä¸èƒ½ä½¿ç”¨
 
 5.æ··åˆå›¾å±‚
 åœ¨éœ€è¦è£å‰ªçš„è§†å›¾ä¸Šé¢æ·»åŠ ä¸€å±‚è§†å›¾ï¼Œä»¥è¾¾åˆ°åœ†è§’çš„æ•ˆæœ
 - (void)drawRoundedCornerImage {
     UIImageView *iconImgV = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
     iconImgV.image = [UIImage imageNamed:@"icon"];
     [self.view addSubview:iconImgV];
     
     [iconImgV mas_makeConstraints:^(MASConstraintMaker *make) {
         make.size.mas_equalTo(iconImgV.size);
         make.top.equalTo(self.view.mas_top).offset(500);
         make.centerX.equalTo(self.view);
     }];
     
     UIImageView *imgView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 200, 200)];
     [self.view addSubview:imgView];
     
     [imgView mas_makeConstraints:^(MASConstraintMaker *make) {
         make.size.mas_equalTo(imgView.size);
         make.top.equalTo(iconImgV.mas_top);
         make.leading.equalTo(iconImgV.mas_leading);
     }];
     
     // åœ†å½¢
     imgView.image = [self drawCircleRadius:100 outerSize:CGSizeMake(200, 200) fillColor:[UIColor whiteColor]];
 }

 // ç»˜åˆ¶åœ†å½¢
 - (UIImage *)drawCircleRadius:(float)radius outerSize:(CGSize)outerSize fillColor:(UIColor *)fillColor {
     UIGraphicsBeginImageContextWithOptions(outerSize, false, [UIScreen mainScreen].scale);
     
     // 1ã€è·å–å½“å‰ä¸Šä¸‹æ–‡
     CGContextRef contextRef = UIGraphicsGetCurrentContext();
     
     //2.æè¿°è·¯å¾„
     // ArcCenter:ä¸­å¿ƒç‚¹ radius:åŠå¾„ startAngleèµ·å§‹è§’åº¦ endAngleç»“æŸè§’åº¦ clockwiseï¼šæ˜¯å¦é€†æ—¶é’ˆ
     UIBezierPath *bezierPath = [UIBezierPath bezierPathWithArcCenter:CGPointMake(outerSize.width * 0.5, outerSize.height * 0.5) radius:radius startAngle:0 endAngle:M_PI * 2 clockwise:NO];
     [bezierPath closePath];
     
     // 3.å¤–è¾¹
     [bezierPath moveToPoint:CGPointMake(0, 0)];
     [bezierPath addLineToPoint:CGPointMake(outerSize.width, 0)];
     [bezierPath addLineToPoint:CGPointMake(outerSize.width, outerSize.height)];
     [bezierPath addLineToPoint:CGPointMake(0, outerSize.height)];
     [bezierPath addLineToPoint:CGPointMake(0, 0)];
     [bezierPath closePath];
     
     //4.è®¾ç½®é¢œè‰²
     [fillColor setFill];
     [bezierPath fill];
     
     CGContextDrawPath(contextRef, kCGPathStroke);
     UIImage *antiRoundedCornerImage = UIGraphicsGetImageFromCurrentImageContext();
     UIGraphicsEndImageContext();
     
     return antiRoundedCornerImage;
 }


 
 åœ¨Applicationè¿™ä¸€å±‚ä¸­ä¸»è¦æ˜¯CPUåœ¨æ“ä½œï¼Œè€Œåˆ°äº†Render Serverè¿™ä¸€å±‚ï¼ŒCoreAnimationä¼šå°†å…·ä½“æ“ä½œè½¬æ¢æˆå‘é€ç»™GPUçš„draw callsï¼ˆä»¥å‰æ˜¯call OpenGL ESï¼Œç°åœ¨æ…¢æ…¢è½¬åˆ°äº†Metalï¼‰ï¼Œæ˜¾ç„¶CPUå’ŒGPUåŒæ–¹åŒå¤„äºä¸€ä¸ªæµæ°´çº¿ä¸­ï¼Œåä½œå®Œæˆæ•´ä¸ªæ¸²æŸ“å·¥ä½œã€‚

 ç¦»å±æ¸²æŸ“çš„å®šä¹‰:
 å¦‚æœè¦åœ¨æ˜¾ç¤ºå±ä¸Šæ˜¾ç¤ºå†…å®¹ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦ä¸€å—ä¸å±å¹•åƒç´ æ•°æ®é‡ä¸€æ ·å¤§çš„frame bufferï¼Œä½œä¸ºåƒç´ æ•°æ®å­˜å‚¨åŒºåŸŸï¼Œè€Œè¿™ä¹Ÿæ˜¯GPUå­˜å‚¨æ¸²æŸ“ç»“æœçš„åœ°æ–¹ã€‚å¦‚æœæœ‰æ—¶å› ä¸ºé¢ä¸´ä¸€äº›é™åˆ¶ï¼Œæ— æ³•æŠŠæ¸²æŸ“ç»“æœç›´æ¥å†™å…¥frame bufferï¼Œè€Œæ˜¯å…ˆæš‚å­˜åœ¨å¦å¤–çš„å†…å­˜åŒºåŸŸï¼Œä¹‹åå†å†™å…¥frame bufferï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¹‹ä¸ºç¦»å±æ¸²æŸ“ã€‚
 
 CPUâ€ç¦»å±æ¸²æŸ“â€œ
 å¦‚æœæˆ‘ä»¬åœ¨UIViewä¸­å®ç°äº†drawRectæ–¹æ³•ï¼Œå°±ç®—å®ƒçš„å‡½æ•°ä½“å†…éƒ¨å®é™…æ²¡æœ‰ä»£ç ï¼Œç³»ç»Ÿä¹Ÿä¼šä¸ºè¿™ä¸ªviewç”³è¯·ä¸€å—å†…å­˜åŒºåŸŸï¼Œç­‰å¾…CoreGraphicså¯èƒ½çš„ç»˜ç”»æ“ä½œã€‚
 å¯¹äºç±»ä¼¼è¿™ç§â€œæ–°å¼€ä¸€å—CGContextæ¥ç”»å›¾â€œçš„æ“ä½œï¼Œæœ‰å¾ˆå¤šæ–‡ç« å’Œè§†é¢‘ä¹Ÿç§°ä¹‹ä¸ºâ€œç¦»å±æ¸²æŸ“â€ï¼ˆå› ä¸ºåƒç´ æ•°æ®æ˜¯æš‚æ—¶å­˜å…¥äº†CGContextï¼Œè€Œä¸æ˜¯ç›´æ¥åˆ°äº†frame bufferï¼‰
 å…¶å®æ‰€æœ‰CPUè¿›è¡Œçš„å…‰æ …åŒ–æ“ä½œï¼ˆå¦‚æ–‡å­—æ¸²æŸ“ã€å›¾ç‰‡è§£ç ï¼‰ï¼Œéƒ½æ— æ³•ç›´æ¥ç»˜åˆ¶åˆ°ç”±GPUæŒç®¡çš„frame bufferï¼Œåªèƒ½æš‚æ—¶å…ˆæ”¾åœ¨å¦ä¸€å—å†…å­˜ä¹‹ä¸­ï¼Œè¯´èµ·æ¥éƒ½å±äºâ€œç¦»å±æ¸²æŸ“â€ã€‚
 CPUæ¸²æŸ“å¹¶éçœŸæ­£æ„ä¹‰ä¸Šçš„ç¦»å±æ¸²æŸ“
 
 å¦ä¸€ä¸ªè¯æ®æ˜¯ï¼Œå¦‚æœä½ çš„viewå®ç°äº†drawRectï¼Œæ­¤æ—¶æ‰“å¼€Xcodeè°ƒè¯•çš„â€œColor offscreen rendered yellowâ€å¼€å…³ï¼Œä½ ä¼šå‘ç°è¿™ç‰‡åŒºåŸŸä¸ä¼šè¢«æ ‡è®°ä¸ºé»„è‰²ï¼Œè¯´æ˜Xcodeå¹¶ä¸è®¤ä¸ºè¿™å±äºç¦»å±æ¸²æŸ“
 
 å…¶å®é€šè¿‡CPUæ¸²æŸ“å°±æ˜¯ä¿—ç§°çš„â€œè½¯ä»¶æ¸²æŸ“â€ï¼Œè€ŒçœŸæ­£çš„ç¦»å±æ¸²æŸ“å‘ç”Ÿåœ¨GPU
 
 ä¸»è¦çš„æ¸²æŸ“æ“ä½œéƒ½æ˜¯ç”±CoreAnimationçš„Render Serveræ¨¡å—ï¼Œé€šè¿‡è°ƒç”¨æ˜¾å¡é©±åŠ¨æ‰€æä¾›çš„OpenGL/Metalæ¥å£æ¥æ‰§è¡Œçš„ã€‚
 é€šå¸¸å¯¹äºæ¯ä¸€å±‚layerï¼ŒRender Serverä¼šéµå¾ªâ€œç”»å®¶ç®—æ³•â€ï¼ŒæŒ‰æ¬¡åºè¾“å‡ºåˆ°frame bufferï¼Œåä¸€å±‚è¦†ç›–å‰ä¸€å±‚ï¼Œå°±èƒ½å¾—åˆ°æœ€ç»ˆçš„æ˜¾ç¤ºç»“æœ
 åœ¨iOSä¸­ï¼Œè®¾å¤‡ä¸»å­˜å’ŒGPUçš„æ˜¾å­˜å…±äº«ç‰©ç†å†…å­˜ï¼Œè¿™æ ·å¯ä»¥çœå»ä¸€äº›æ•°æ®ä¼ è¾“å¼€é”€
 
 ä½œä¸ºâ€œç”»å®¶â€çš„GPUè™½ç„¶å¯ä»¥ä¸€å±‚ä¸€å±‚å¾€ç”»å¸ƒä¸Šè¿›è¡Œè¾“å‡ºï¼Œä½†æ˜¯æ— æ³•åœ¨æŸä¸€å±‚æ¸²æŸ“å®Œæˆä¹‹åï¼Œå†å›è¿‡å¤´æ¥æ“¦é™¤/æ”¹å˜å…¶ä¸­çš„æŸä¸ªéƒ¨åˆ†â€”â€”å› ä¸ºåœ¨è¿™ä¸€å±‚ä¹‹å‰çš„è‹¥å¹²å±‚layeråƒç´ æ•°æ®ï¼Œå·²ç»åœ¨æ¸²æŸ“ä¸­è¢«æ°¸ä¹…è¦†ç›–äº†ã€‚è¿™å°±æ„å‘³ç€ï¼Œå¯¹äºæ¯ä¸€å±‚layerï¼Œè¦ä¹ˆèƒ½æ‰¾åˆ°ä¸€ç§é€šè¿‡å•æ¬¡éå†å°±èƒ½å®Œæˆæ¸²æŸ“çš„ç®—æ³•ï¼Œè¦ä¹ˆå°±ä¸å¾—ä¸å¦å¼€ä¸€å—å†…å­˜ï¼Œå€ŸåŠ©è¿™ä¸ªä¸´æ—¶ä¸­è½¬åŒºåŸŸæ¥å®Œæˆä¸€äº›æ›´å¤æ‚çš„ã€å¤šæ¬¡çš„ä¿®æ”¹/å‰ªè£æ“ä½œã€‚
 
 å¦‚æœè¦ç»˜åˆ¶ä¸€ä¸ªå¸¦æœ‰åœ†è§’å¹¶å‰ªåˆ‡åœ†è§’ä»¥å¤–å†…å®¹çš„å®¹å™¨ï¼Œå°±ä¼šè§¦å‘ç¦»å±æ¸²æŸ“
 
 https://zhuanlan.zhihu.com/p/72653360
 */


// MARK: swift å¸¸ç”¨ç¬¬ä¸‰æ–¹åº“
/**
 https://www.jianshu.com/p/f4282df18537
 
 */

// MARK: Swift å¸¸ç”¨UI
/**
 // UIåº“
 https://github.com/Ramotion/swift-ui-animation-components-and-libraries
 
 // tab-bar
 https://github.com/Ramotion/animated-tab-bar
 */

class AppDelegate: UIResponder, UIApplicationDelegate {

    var window: UIWindow?
    
    func incrementor(ptr: UnsafeMutablePointer<Int>) {
        ptr.pointee += 1
    }
    
    func incrementor1(num: inout Int) {
        num += 1
    }

    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        // MARK: deinit
        /**
         å…ˆUIViewController deinit->å†å®ƒé‡Œé¢çš„view deinit
         */
        
        // MARK:MemoryLayout-å†…å­˜ä¸­çš„å¸ƒå±€
        /**
         æ±‡ç¼–ä¸­MOVä¸ºèµ‹å€¼æŒ‡ä»¤ï¼ŒMOVåé¢çš„å­—æ¯ä¸ºæ“ä½œæ•°é•¿åº¦ï¼Œbï¼ˆbyteï¼‰ä¸ºä¸€ä¸ªå­—èŠ‚
         $ä»£è¡¨ç€å­—é¢é‡ï¼Œ%å¼€å¤´çš„æ˜¯CPUçš„å¯„å­˜å™¨
         movb $0x2, 0x500f(%rip)è¿™ä¸€å¥æ±‡ç¼–ä»£ç çš„æ„æ€å°±æ˜¯å°†2è¿™ä¸ªå¸¸é‡èµ‹å€¼ç»™å¯„å­˜å™¨%ripä¸­çš„åœ°å€åŠ ä¸Š0x500f
         
         callq 0x100002700: å°±æ˜¯è°ƒç”¨0x100002700æ‰€åœ¨çš„å‡½æ•°
         
         callq  *0x78(%rcx)// å°†%rcxçš„å€¼åŠ ä¸Š0x78ï¼Œå¾—å‡ºä¸€ä¸ªå‡½æ•°åœ°å€å€¼ï¼Œå¹¶ä¸”è°ƒç”¨è¿™ä¸ªå‡½æ•°
         
         æšä¸¾:
         æšä¸¾çš„å†…å­˜å¤§å°å—å…³è”å€¼çš„å½±å“ï¼Œä¹Ÿå°±æ˜¯è¯´æšä¸¾çš„å…³è”å€¼æ˜¯å­˜å‚¨åœ¨æšä¸¾å†…éƒ¨çš„:
         ä»¥Seasonæšä¸¾ä¸ºä¾‹å­:
         æšä¸¾å€¼åˆ†é…çš„ç©ºé—´æ˜¯æŒ‰ç…§æœ€å¤§çš„æšä¸¾å€¼æ¥åˆ†é…çš„ï¼ŒSeasonç±»å‹çš„æšä¸¾summer(String,String,String)éœ€è¦å ç”¨49ä¸ªå­—èŠ‚ï¼ˆä¸€ä¸ªStirngå 16ä¸ªå­—èŠ‚ï¼Œ3 * 16 + 1 = 49ï¼‰
         æ‰€ä»¥Seasonä¼šç»™æ‰€æœ‰çš„æšä¸¾å€¼åˆ†é…49ä¸ªå­—èŠ‚ï¼Œå¹¶åœ¨ç¬¬49ä¸ªå­—èŠ‚å­˜æ”¾æšä¸¾å€¼ã€‚
         ç”±äºå†…å­˜å¯¹é½é•¿åº¦ä¸º8ä¸ªå­—èŠ‚ï¼Œç³»ç»Ÿåˆ†é…çš„å†…å­˜å¿…é¡»ä¸º8çš„å€æ•°ã€‚æ‰€ä»¥ç³»ç»Ÿä¼šåˆ†é…56ä¸ªå­—èŠ‚ç»™Seasonç±»å‹çš„æšä¸¾å€¼ã€‚
         
         ç»“è®º: å•ä¸ªæšä¸¾æ‰€å ç©ºé—´æ˜¯æŒ‰ç…§æšä¸¾å…³è”å€¼æ‰€å å­—èŠ‚æ€»å’Œæœ€é«˜çš„æšä¸¾å­—èŠ‚æ•°+1ä¸ªå­—èŠ‚çš„æ–¹å¼æ¥åˆ†é…çš„ã€‚
         åœ¨æ²¡æœ‰å…³è”å€¼çš„æƒ…å†µä¸‹ï¼Œæšä¸¾åœ¨å†…å­˜ä¸­å 1ä¸ªå­—èŠ‚ä¸”æ‰€å å†…å­˜çš„å¤§å°ä¸å—åŸå§‹å€¼å½±å“ã€‚
         å…³è”å€¼ä¼šä¿å­˜åœ¨æšä¸¾çš„å†…å­˜ä¸­ï¼Œå½±å“ç€æšä¸¾æ‰€å å†…å­˜çš„å¤§å°ã€‚
         
         ç±»:
         class Animal{
             var age:Int = 0
             var height:Int = 10
             init() {
             }
         }
         var animal = Animal.init()
         size: 8
         stride: 8
         alignment: 8
         æ— è®ºå¾€Personå¯¹è±¡ä¸­å¢åŠ è¿˜æ˜¯å‡å°‘å­˜å‚¨å±æ€§ï¼Œé€šè¿‡MemoryLayoutç±»æ–¹æ³•æ‰“å°å‡ºçš„å†…å­˜å ç”¨éƒ½æ˜¯8ä¸ªå­—èŠ‚ï¼Œè¿™æ˜¯å› ä¸ºAnimalå¯¹è±¡å­˜å‚¨åœ¨å †ä¸­
         animalå˜é‡å†…éƒ¨ä¿å­˜ç€Animalå¯¹è±¡çš„å†…å­˜åœ°å€
         MemoryLayoutæ‰“å°çš„æ˜¯animalè¿™ä¸ªå˜é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œæ‰€ä»¥æ— è®ºå¦‚ä½•æ‰“å°å‡ºæ¥çš„éƒ½æ˜¯swiftæŒ‡é’ˆå¤§å°ï¼Œä¹Ÿå°±æ˜¯8ä¸ªå­—èŠ‚
         
         å¦‚ä½•æŸ¥çœ‹Animalå¯¹è±¡çš„å¤§å°å‘¢?
         é€šè¿‡æ±‡ç¼–æŸ¥çœ‹:
         movq %rax, 0x4cd2(%rip) // èµ‹å€¼
         lldb: register read rax
         å¾—åˆ°Animalå¯¹è±¡åœ°å€å€¼
         
         Animalå¯¹è±¡å®é™…å ç”¨24ä¸ªå­—èŠ‚ï¼Œç”±äºå †ç©ºé—´å†…å­˜å¯¹é½çš„é•¿åº¦ä¸º16ä¸ªå­—èŠ‚ï¼Œæ„å‘³ç€Animalå¯¹è±¡å ç”¨çš„å†…å­˜å¿…é¡»ä¸º16çš„å€æ•°ï¼Œæ‰€ä»¥ç³»ç»Ÿå®é™…ç»™Animalå¯¹è±¡åˆ†é…äº†32ä¸ªå­—èŠ‚
         å‰8ä¸ªå­—èŠ‚æ˜¯ç±»å‹ä¿¡æ¯ï¼Œç¬¬9ï½16ä¸ªå­—èŠ‚ä¿å­˜çš„æ˜¯å¼•ç”¨è®¡æ•°
         ç¬¬17ï½24ä¸ªå­—èŠ‚ä¿å­˜ç€ageå˜é‡
         
         ç»“è®º: classçš„å¯¹è±¡çš„å‰8ä¸ªå­—èŠ‚ä¿å­˜ç€typeçš„meta dataï¼Œå…¶ä¸­åŒ…æ‹¬äº†æ–¹æ³•çš„åœ°å€
         ç”±äºç±»çš„å®ä¾‹å¯¹è±¡ä¿å­˜åœ¨å †ç©ºé—´ä¸­ï¼Œç³»ç»Ÿéœ€è¦é€šè¿‡æ£€æŸ¥å¼•ç”¨è®¡æ•°çš„æƒ…å†µæ¥ç¡®å®šæ˜¯å¦éœ€è¦å›æ”¶å¯¹è±¡ï¼ˆARCä¸­ç³»ç»Ÿå·²ç»å¸®æˆ‘ä»¬å¤„ç†å †å†…å­˜çš„ç®¡ç†ï¼Œç¨‹åºå‘˜ä¸éœ€è¦å…³å¿ƒå¼•ç”¨è®¡æ•°ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨å¼•ç”¨è®¡æ•°ä¸å­˜åœ¨ï¼‰ï¼Œæ‰€ä»¥å¯¹è±¡ä¸­éœ€è¦ç•™å‡º8ä¸ªå­—èŠ‚ä¿å­˜å¼•ç”¨è®¡æ•°æƒ…å†µã€‚ç±»å¯ä»¥è¢«ç»§æ‰¿ï¼Œç”±äºé¢å‘å¯¹è±¡è¯­è¨€çš„å¤šæ€ç‰¹æ€§ï¼Œåœ¨è°ƒç”¨ç±»çš„å®ä¾‹å¯¹è±¡æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦åŠ¨æ€åœ°è·å–å¯¹è±¡æ–¹æ³•æ‰€åœ¨çš„å‡½æ•°åœ°å€ï¼Œæ‰€ä»¥éœ€è¦ç•™å‡º8ä¸ªå­—èŠ‚ä¿å­˜ç±»çš„ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚å¯¹è±¡æ–¹æ³•çš„åœ°å€å°±ä¿å­˜åœ¨ç±»å‹ä¿¡æ¯ä¸­ã€‚
         æ‰€ä»¥å½“ç±»çš„å®ä¾‹å¯¹è±¡åœ¨è°ƒç”¨å¯¹è±¡æ–¹æ³•æ—¶ï¼Œæ€§èƒ½çš„å¼€é”€ç›¸æ¯”ç»“æ„ä½“ä»¥åŠæšä¸¾è°ƒç”¨æ–¹æ³•è¦å¤§ï¼Œå› ä¸ºå¤šæ€çš„å­˜åœ¨ï¼Œç³»ç»Ÿä¼šå…ˆæ‰¾åˆ°è¯¥å¯¹è±¡çš„å‰8ä¸ªå­—èŠ‚ï¼ˆtype meta dataï¼‰åŠ ä¸Šä¸€ä¸ªåç§»å€¼å¾—åˆ°å‡½æ•°çš„åœ°å€ï¼Œå†æ‰¾åˆ°è¿™ä¸ªå‡½æ•°å»è°ƒç”¨ã€‚
         
         ç»“æ„ä½“:
         struct Person {
             var age:Int = 10
             var man:Bool = true
             func test() {
                 print("test")
             }
         }
         let per = Person()
         size: 16
         stride: 9
         alignment: 8
         
         ç”±äºç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œç›¸è¾ƒäºç±»è€Œè¨€å…¶ä¸èƒ½è¢«å­ç±»ç»§æ‰¿ï¼Œä¹Ÿä¸éœ€è¦å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å…¶å†…å­˜çš„é‡Šæ”¾ã€‚
         æ‰€ä»¥åœ¨å­˜å‚¨å±æ€§ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç»“æ„ä½“çš„å†…å­˜è¦æ¯”ç±»å°ã€‚
         ç»“æ„ä½“ç”±äºä¸èƒ½ç»§æ‰¿ï¼Œå…¶æ–¹æ³•åœ°å€åœ¨ç¼–è¯‘çš„æ—¶å€™å°±èƒ½ç¡®å®šã€‚
         */
        let size = MemoryLayout<TestPoint>.size// 17
        let stride = MemoryLayout<TestPoint>.stride// 24
        let alignment = MemoryLayout<TestPoint>.alignment// 8
        
        // MARK: æŒ‡é’ˆUnsafePointerå’Œæ‰˜ç®¡Unmanaged
        /**
         ä½†æ˜¯Swiftçš„&æ“ä½œå’ŒCè¯­è¨€ä¸åŒçš„ä¸€ç‚¹æ˜¯ï¼ŒSwiftä¸å…è®¸ç›´æ¥è·å–å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç å°±ä¼šç¼–è¯‘ä¸é€šè¿‡ã€‚
         let a = NSData()
         let b = &a //ç¼–è¯‘å‡ºé”™
         
         UnsafePointer<T> æ˜¯ä¸å¯å˜çš„ã€‚å½“ç„¶å¯¹åº”åœ°ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªå¯å˜å˜ä½“ï¼ŒUnsafeMutablePointer<T>
         C ä¸­çš„æŒ‡é’ˆéƒ½ä¼šè¢«ä»¥è¿™ä¸¤ç§ç±»å‹å¼•å…¥åˆ° Swift ä¸­ï¼šC ä¸­ const ä¿®é¥°çš„æŒ‡é’ˆå¯¹åº” UnsafePointer (æœ€å¸¸è§çš„åº”è¯¥å°±æ˜¯ C å­—ç¬¦ä¸²çš„ const char * äº†)
         å¯¹äºä¸€ä¸ª UnsafePointer<T> ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ pointee å±æ€§å¯¹å…¶è¿›è¡Œå–å€¼
         å¦‚æœè¿™ä¸ªæŒ‡é’ˆæ˜¯å¯å˜çš„ UnsafeMutablePointer<T> ç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ pointee å¯¹å®ƒè¿›è¡Œèµ‹å€¼
         
         UnsafeMutablePointer:æˆ‘ä»¬å¦‚æœæƒ³è¦æ–°å»ºä¸€ä¸ªæŒ‡é’ˆï¼Œéœ€è¦åšçš„æ˜¯ä½¿ç”¨ allocate(capacity:) è¿™ä¸ªç±»æ–¹æ³•ã€‚è¯¥æ–¹æ³•æ ¹æ®å‚æ•° capacity: Int å‘ç³»ç»Ÿç”³è¯· capacity ä¸ªæ•°çš„å¯¹åº”æ³›å‹ç±»å‹çš„å†…å­˜
         
         Swift ä¸­å­˜åœ¨è¡¨ç¤ºä¸€ç»„è¿ç»­æ•°æ®æŒ‡é’ˆçš„ UnsafeBufferPointer<T>
         
         æ‰˜ç®¡: TestPointerViewController.swift
         https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFMemoryMgmt/Concepts/Ownership.html
         
         å½“æˆ‘ä»¬ä»CFå‡½æ•°ä¸­è·å–åˆ°Unmanaged<T>å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨takeRetainedValueæˆ–è€…takeUnretainedValueè·å–åˆ°å¯¹è±¡T
         å¦‚æœä¸€ä¸ªå‡½æ•°åä¸­åŒ…å«Createæˆ–Copyï¼Œåˆ™è°ƒç”¨è€…è·å¾—è¿™ä¸ªå¯¹è±¡çš„åŒæ—¶ä¹Ÿè·å¾—å¯¹è±¡æ‰€æœ‰æƒï¼Œè¿”å›å€¼Unmanagedéœ€è¦è°ƒç”¨takeRetainedValue()æ–¹æ³•è·å¾—å¯¹è±¡ã€‚è°ƒç”¨è€…ä¸å†ä½¿ç”¨å¯¹è±¡æ—¶å€™ï¼ŒSwiftä»£ç ä¸­ä¸éœ€è¦è°ƒç”¨CFReleaseå‡½æ•°æ”¾å¼ƒå¯¹è±¡æ‰€æœ‰æƒï¼Œè¿™æ˜¯å› ä¸ºSwiftä»…æ”¯æŒARCå†…å­˜ç®¡ç†
         å¦‚æœä¸€ä¸ªå‡½æ•°åä¸­åŒ…å«Getï¼Œåˆ™è°ƒç”¨è€…è·å¾—è¿™ä¸ªå¯¹è±¡çš„åŒæ—¶ä¸ä¼šè·å¾—å¯¹è±¡æ‰€æœ‰æƒï¼Œè¿”å›å€¼Unmanagedéœ€è¦è°ƒç”¨takeUnretainedValue()æ–¹æ³•è·å¾—å¯¹è±¡
         */
        
        var aa = 10
        // è¿™é‡Œå’Œ C çš„æŒ‡é’ˆä½¿ç”¨ç±»ä¼¼ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨å˜é‡åå‰é¢åŠ ä¸Š & ç¬¦å·å°±å¯ä»¥å°†æŒ‡å‘è¿™ä¸ªå˜é‡çš„æŒ‡é’ˆä¼ é€’åˆ°æ¥å—æŒ‡é’ˆä½œä¸ºå‚æ•°çš„æ–¹æ³•ä¸­å»
        incrementor(ptr: &aa)
        print("aa = \(aa)")// 11
        // ä¸è¿™ç§åšæ³•ç±»ä¼¼çš„æ˜¯ä½¿ç”¨ Swift çš„ inout å…³é”®å­—ã€‚æˆ‘ä»¬åœ¨å°†å˜é‡ä¼ å…¥ inout å‚æ•°çš„å‡½æ•°æ—¶ï¼ŒåŒæ ·ä¹Ÿä½¿ç”¨ & ç¬¦å·è¡¨ç¤ºåœ°å€ã€‚ä¸è¿‡åŒºåˆ«æ˜¯åœ¨å‡½æ•°ä½“å†…éƒ¨æˆ‘ä»¬ä¸éœ€è¦å¤„ç†æŒ‡é’ˆç±»å‹ï¼Œè€Œæ˜¯å¯ä»¥å¯¹å‚æ•°ç›´æ¥è¿›è¡Œæ“ä½œ
        incrementor1(num: &aa)
        print("aa = \(aa)")// 12
        
        // æŒ‡é’ˆåˆå§‹åŒ–å’Œå†…å­˜ç®¡ç†
        var intPtr = UnsafeMutablePointer<Int>.allocate(capacity: 1)
        // å†…å­˜è¿›è¡Œäº†åˆ†é…ï¼Œå¹¶ä¸”å€¼å·²ç»è¢«åˆå§‹åŒ–. è¿™ç§çŠ¶æ€ä¸‹çš„æŒ‡é’ˆæ˜¯å¯ä»¥ä¿è¯æ­£å¸¸ä½¿ç”¨çš„
        intPtr.initialize(to: 10)// åœ¨å®Œæˆåˆå§‹åŒ–åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ pointee æ¥æ“ä½œæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å€¼äº†
        intPtr.pointee = 11
        print(intPtr, intPtr.pointee)// åœ°å€ï¼Œ 11
        
        // æ³¨æ„å…¶å®åœ¨è¿™é‡Œå¯¹äº Int è¿™æ ·çš„åœ¨ C ä¸­æ˜ å°„ä¸º int çš„ â€œå¹³å‡¡å€¼â€ æ¥è¯´ï¼Œdeinitialize å¹¶ä¸æ˜¯å¿…è¦çš„ï¼Œå› ä¸ºè¿™äº›å€¼è¢«åˆ†é…åœ¨å¸¸é‡æ®µä¸Šã€‚ä½†æ˜¯å¯¹äºåƒç±»çš„å¯¹è±¡æˆ–è€…ç»“æ„ä½“å®ä¾‹æ¥è¯´ï¼Œå¦‚æœä¸ä¿è¯åˆå§‹åŒ–å’Œæ‘§æ¯é…å¯¹çš„è¯ï¼Œæ˜¯ä¼šå‡ºç°å†…å­˜æ³„éœ²çš„ã€‚æ‰€ä»¥æ²¡æœ‰ç‰¹æ®Šè€ƒè™‘çš„è¯ï¼Œä¸è®ºå†…å­˜ä¸­åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¿è¯ initialize: å’Œ deinitialize é…å¯¹ä¼šæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚
        let rawPtr: UnsafeMutableRawPointer = intPtr.deinitialize(count: 1)
        print(intPtr, intPtr.pointee, rawPtr)
        intPtr.deallocate()
        
        print("\(Int.max)")
        
        // ======
        let intPointer = UnsafeMutablePointer<Int>.allocate(capacity: 4)
        for i in 0..<4 {
            (intPointer + i).initialize(to: i)
        }
        print(intPointer.pointee)
        intPointer.deallocate()
        
        // MARK: æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ
        /**
         åœ¨ Swift ä¸­å°†ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’åˆ° C API æ—¶ï¼ŒSwift å·²ç»å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†è½¬æ¢
         
         public func vDSP_vadd(_ __A: UnsafePointer<Float>, _ __IA: vDSP_Stride, _ __B: UnsafePointer<Float>, _ __IB: vDSP_Stride, _ __C: UnsafeMutablePointer<Float>, _ __IC: vDSP_Stride, _ __N: vDSP_Length)
         
         å¯¹äºä¸€èˆ¬çš„æ¥å— const æ•°ç»„çš„ C APIï¼Œå…¶è¦æ±‚çš„ç±»å‹ä¸º UnsafePointerï¼Œ
         è€Œé const çš„æ•°ç»„åˆ™å¯¹åº” UnsafeMutablePointerã€‚
         ä½¿ç”¨æ—¶ï¼Œå¯¹äº const çš„å‚æ•°ï¼Œæˆ‘ä»¬ç›´æ¥å°† Swift æ•°ç»„ä¼ å…¥ (ä¸Šä¾‹ä¸­çš„ a å’Œ b)ï¼›è€Œå¯¹äºå¯å˜çš„æ•°ç»„ï¼Œåœ¨å‰é¢åŠ ä¸Š & åä¼ å…¥å³å¯
         
         å¯¹äºä¼ å‚ï¼ŒSwift è¿›è¡Œäº†ç®€åŒ–ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚
         ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨æŒ‡é’ˆæ¥åƒä¹‹å‰ç”¨ pointee çš„æ–¹å¼ç›´æ¥æ“ä½œæ•°ç»„çš„è¯ï¼Œå°±éœ€è¦å€ŸåŠ©ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼šUnsafeMutableBufferPointer
         Buffer Pointer æ˜¯ä¸€æ®µè¿ç»­çš„å†…å­˜çš„æŒ‡é’ˆï¼Œé€šå¸¸ç”¨æ¥è¡¨è¾¾åƒæ˜¯æ•°ç»„æˆ–è€…å­—å…¸è¿™æ ·çš„é›†åˆç±»å‹
         */
        let a: [Float] = [1, 2, 3, 4]
        let b: [Float] = [0.5, 0.25, 0.125, 0.0625]
        var result: [Float] = [0, 0, 0, 0]
        vDSP_vadd(a, 1, b, 1, &result, 1, 4)// // result now contains [1.5, 2.25, 3.125, 4.0625]

        var array = [1, 2, 3, 4, 5]
        var arrayPtr = UnsafeMutableBufferPointer<Int>(start: &array, count: array.count)// baseAddress æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œç±»å‹ä¸º UnsafeMutablePointer<Int>
        if let basePtr: UnsafeMutablePointer<Int> = arrayPtr.baseAddress {
            print(basePtr.pointee)  // 1
            basePtr.pointee = 10
            print(basePtr.pointee) // 10, arrayæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿä¸º10äº†
            
            //ä¸‹ä¸€ä¸ªå…ƒç´ 
            let nextPtr = basePtr.successor()
            print(nextPtr.pointee) // 2
        }
        
        // MARK: æŒ‡é’ˆæ“ä½œå’Œè½¬æ¢
        /**
         åœ¨ Swift ä¸­ä¸èƒ½åƒ C é‡Œé‚£æ ·ä½¿ç”¨ & ç¬¦å·ç›´æ¥è·å–åœ°å€æ¥è¿›è¡Œæ“ä½œ
         å¦‚æœæˆ‘ä»¬æƒ³å¯¹æŸä¸ªå˜é‡è¿›è¡ŒæŒ‡é’ˆæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© withUnsafePointer æˆ– withUnsafeMutablePointer è¿™ä¸¤ä¸ªè¾…åŠ©æ–¹æ³•
         è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ inout çš„ä»»æ„ç±»å‹ï¼Œç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªé—­åŒ…
         Swift ä¼šå°†ç¬¬ä¸€ä¸ªè¾“å…¥è½¬æ¢ä¸ºæŒ‡é’ˆï¼Œç„¶åå°†è¿™ä¸ªè½¬æ¢åçš„ Unsafe çš„æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œå»è°ƒç”¨é—­åŒ…ã€‚withUnsafePointer æˆ– withUnsafeMutablePointer çš„å·®åˆ«æ˜¯å‰è€…è½¬åŒ–åçš„æŒ‡é’ˆä¸å¯å˜ï¼Œåè€…è½¬åŒ–åçš„æŒ‡é’ˆå¯å˜
         */
        var test = 10
        test = withUnsafeMutablePointer(to: &test, { (ptr: UnsafeMutablePointer<Int>) -> Int in
            ptr.pointee += 1
            return ptr.pointee
        })
        print("test = \(test)")// 11
        
        
        
        // MARK: "@"
        /**
         @IBOutlet
         å¦‚æœä½ ç”¨@IBOutletå±æ€§æ ‡è®°ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆInterface Builderï¼ˆIBï¼‰å°†è¯†åˆ«é‚£ä¸ªå˜é‡ï¼Œå¹¶ä¸”ä½ å°†èƒ½å¤Ÿé€šè¿‡æä¾›çš„â€œoutletâ€æœºåˆ¶å°†ä½ çš„æºä»£ç ä¸ä½ çš„XIBæˆ–è€…Storyboardè¿æ¥èµ·æ¥
         
         @IBAction
         @IBActionåŒæ ·æ˜¯è¿æ¥ä»£ç å’ŒInterface Builderçš„æ¡¥æ¢ï¼Œåªä¸è¿‡@IBActionè¿æ¥çš„æ˜¯funcå‡½æ•°ï¼Œè€Œä¸æ˜¯å±æ€§ã€‚è¢«æ ‡è®°çš„æ–¹æ³•å°†ç›´æ¥æ¥æ”¶ç”±ç”¨æˆ·ç•Œé¢è§¦å‘çš„äº‹ä»¶ã€‚
         
         @IBInspectable
         æˆ‘ä»¬ç»å¸¸ç”¨Interface Builderçš„å±æ€§ç¼–è¾‘é¢æ¿å¯¹æ§ä»¶çš„å±æ€§è¿›è¡Œè®¾ç½®ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›å±æ€§å¹¶æ²¡æœ‰æš´éœ²åœ¨Interface Builderçš„è®¾ç½®é¢æ¿ä¸­ã€‚ç”¨@IBInspectableæ ‡è®°ä¸€ä¸ªNSCodableçš„å±æ€§å°†ä¼šä½¿å®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨Interface Builderçš„å±æ€§é¢æ¿ç¼–è¾‘å™¨ä¸­è¿›è¡Œç¼–è¾‘
         
         @IBDesignable
         å½“ç»™ä¸€ä¸ªUIViewçš„å­ç±»åº”ç”¨@IBDesignableæ—¶ï¼Œè¿™ä¸ªç±»å°±å¯ä»¥æ˜¾ç¤ºåœ¨Interface Builderä¸­ï¼Œä½¿æˆ‘ä»¬çš„ä»£ç å˜å¾—â€œæ‰€è§å³æ‰€å†™â€ï¼Œæˆ‘ä»¬å¯¹ä»£ç çš„ä¿®æ”¹ä¹Ÿå¯ä»¥å®æ—¶çš„åé¦ˆåœ¨Interface Builderä¸­ã€‚
         
         @UIApplicationMain
         è¿™ä¸ªå±æ€§ä½¿è¢«æ ‡è®°çš„ç±»ä½œä¸ºæœ¬åº”ç”¨çš„ä»£ç†ã€‚é€šå¸¸æ¥è¯´ï¼Œè¿™ä¸ªä»£ç†ç±»éƒ½æ˜¯ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„AppDelegate.swiftæ–‡ä»¶ã€‚
         
         @available
         é€šè¿‡@availableä½¿å¾—è¢«æ ‡è®°çš„æ–¹æ³•æˆ–å±æ€§é€‚ç”¨äºä¸åŒçš„å¹³å°æˆ–ç³»ç»Ÿç‰ˆæœ¬ã€‚
         @available(swift 4.1)
         @available(iOS 11, *)
         
         @objcMembers
         é€šå¸¸åœ¨é¡¹ç›®ä¸­å¦‚æœæƒ³æŠŠSwiftå†™çš„APIæš´éœ²ç»™Objective-Cè°ƒç”¨ï¼Œéœ€è¦å¢åŠ @objcã€‚è¿™ä¸ª@objcMembersæ˜¯ä¸€ä¸ªä¾¿æ·æ–¹æ³•æ¥æ ‡è®°ä¸€ä¸ªç±»çš„å…¨éƒ¨æ–¹æ³•éƒ½åŠ ä¸Š@objcã€‚ä¸è¿‡è¿™ä¸ªå±æ€§ä¼šå¼•èµ·æ€§èƒ½é—®é¢˜ã€‚
         
         @escaping

         å¦‚æœä½ å¸Œæœ›è¢«æ ‡è®°çš„å€¼å¯ä»¥å­˜å‚¨èµ·æ¥ä»¥ä¾¿åç»­ä»£ç ç»§ç»­ä½¿ç”¨ï¼Œä½ å¯ä»¥å°†é—­åŒ…çš„å‚æ•°æ ‡è®°ä¸º@escapingï¼Œæ¢å¥è¯è¯´ï¼Œè¢«æ ‡è®°çš„å€¼çš„å¯ä»¥è¶…è¶ŠåŸæ¥çš„ç”Ÿå‘½å‘¨æœŸèŒƒå›´ï¼Œè¢«å¤–ç•Œè°ƒç”¨ã€‚
         
         @discardableResult
         é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä½†å‡½æ•°çš„è¿”å›å€¼å¹¶æœªä½¿ç”¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Šã€‚ä½ å¯ä»¥é€šè¿‡ç»™funcä½¿ç”¨@discardableResultæ¥æŠ‘åˆ¶è­¦å‘Šã€‚
         
         @autoclosure
         å¦‚æœä¸€ä¸ªfuncæœ‰ä¸€ä¸ªé—­åŒ…å‚æ•°ï¼Œè¿™ä¸ªé—­åŒ…å‚æ•°æ²¡æœ‰å½¢å‚ä½†æœ‰è¿”å›ç±»å‹ã€‚@autoclosureå¯ä»¥ç¥å¥‡åœ°æŠŠè¿™æ ·çš„funcè½¬æ¢æˆæœ‰ä¸€ä¸ªå‚æ•°ä¸”è¿™ä¸ªå‚æ•°çš„ç±»å‹å°±æ˜¯é—­åŒ…çš„è¿”å›å€¼ç±»å‹çš„funcã€‚è¿™æ ·çš„å¥½å¤„æ˜¯åœ¨è°ƒç”¨è¿™ä¸ªå¸¦é—­åŒ…çš„funcæ—¶ï¼Œä¼ çš„å®å‚ä¸ç”¨éå¾—æ˜¯é—­åŒ…ç±»å‹ï¼Œåªè¦æ˜¯é—­åŒ…è¿”å›å€¼ç±»å‹çš„å°±å¯ä»¥äº†ï¼Œ@autoclosureä¼šè‡ªåŠ¨æŠŠè¿™ä¸ªå€¼è½¬æ¢æˆé—­åŒ…ç±»å‹ã€‚
         
         @objc: TestClass.swift
         è¿™ä¸ªå±æ€§å°±æ˜¯å…³è”Swiftå¯¹è±¡å’ŒOCå¯¹è±¡çš„æ¡¥æ¢ã€‚ä½ è¿˜å¯ä»¥é€šè¿‡@objcæä¾›ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦å°±æ˜¯å¯¹åº”åˆ°OCä¸­çš„ç±»æˆ–æ–¹æ³•ã€‚
         
         @nonobjc
         ä½¿ç”¨è¿™ä¸ªå±æ€§æ¥ç¦æ­¢éšå¼æ·»åŠ @objcå±æ€§ã€‚@nonobjcå‘Šè¯‰ç¼–è¯‘å™¨å½“å‰å£°æ˜çš„å†…å®¹ä¸èƒ½åœ¨OCä¸­ä½¿ç”¨
         
         @conventionç‰¹æ€§æ˜¯åœ¨ Swift 2.0 ä¸­å¼•å…¥çš„ï¼Œç”¨äºä¿®é¥°å‡½æ•°ç±»å‹ï¼Œå®ƒæŒ‡å‡ºäº†å‡½æ•°è°ƒç”¨çš„çº¦å®š
         @convention(swift) : è¡¨æ˜è¿™ä¸ªæ˜¯ä¸€ä¸ªswiftçš„é—­åŒ…
         @convention(block) ï¼šè¡¨æ˜è¿™ä¸ªæ˜¯ä¸€ä¸ªå…¼å®¹ocçš„blockçš„é—­åŒ…
         @convention(c) : è¡¨æ˜è¿™ä¸ªæ˜¯å…¼å®¹cçš„å‡½æ•°æŒ‡é’ˆçš„é—­åŒ…ã€‚

         å®ƒç”¨æ¥ä¿®é¥°funcï¼Œè€Œä¸”å®ƒè¿˜å¸¦æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å–å€¼ä¸€èˆ¬æ˜¯ï¼šswiftã€cã€blockã€‚è¢«ä¿®é¥°çš„funcå¯ä»¥ç”¨æ¥åŒ¹é…å…¶ä»–è¯­è¨€å¹³å°çš„å‡½æ•°æŒ‡é’ˆç±»å‹çš„å½¢å‚
         1. å½“è°ƒç”¨Cå‡½æ•°çš„æ—¶å€™ï¼Œå¯ä»¥ä¼ å…¥è¢«@convention(c)ä¿®é¥°çš„swiftå‡½æ•°ï¼Œæ¥åŒ¹é…Cå‡½æ•°å½¢å‚ä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚
         2. å½“è°ƒç”¨OCæ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥ä¼ å…¥è¢«@convention(block)ä¿®é¥°çš„swiftå‡½æ•°ï¼Œæ¥åŒ¹é…OCæ–¹æ³•å½¢å‚ä¸­çš„blockå‚æ•°ã€‚
         
         CGFloat myCFunc(CGFloat (callback)(CGFloat x, CGFloat y)) {
            return callback(1.1, 2.2)
         }
         
         let swiftCallback: @convention(c) (CGFloat, CGFloat) -> CGFloat = {
            (x, y) -> CGFloat in
            return x + y
         }
         
         let result = myCFunc( swiftCallback )// 3.3
         */
        
        
        // MARK: String
        /**
         NSStringå¯¹è±¡ä½¿ç”¨UTF-16ç¼–ç 
         
         endIndexæ˜¯æœ€åä¸€ä¸ªå…ƒç´ åè¾¹çš„é‚£ä¸ªå…ƒç´ ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œå¦åˆ™ä¼šå´©æºƒã€‚
         ä¸åŒçš„å­—ç¬¦å¯èƒ½éœ€è¦ä¸åŒæ•°é‡çš„å†…å­˜æ¥å­˜å‚¨ï¼Œå› æ­¤ä¸ºäº†ç¡®å®šå“ªä¸ªCharacterä½äºç‰¹å®šä½ç½®ï¼Œæ‚¨å¿…é¡»ä»æ¯ä¸ªUnicodeæ ‡é‡çš„å¼€å§‹æˆ–ç»“å°¾å¤„éå†Stringã€‚å› æ­¤ï¼ŒSwiftå­—ç¬¦ä¸²ä¸èƒ½ç”¨æ•´æ•°å€¼ç´¢å¼•ã€‚(ä¸èƒ½ç”¨æ•´æ•°ä¸‹æ ‡éšæœºè®¿é—®)
         
         Swiftæ ‡å‡†åº“åªæ”¯æŒçš„ä¸‰ç§ä¸‹æ ‡è®¿é—®Stringå­—ç¬¦ä¸²çš„æ–¹æ³•:
         Range<String.Index>ï¼šå…ƒç´ ä¸ºString.Indexç±»å‹çš„Rangeï¼ˆå¼€åŒºé—´ï¼‰
         String.Indexï¼šString.Indexå…ƒç´ 
         ClosedRange<String.Index>ï¼šå…ƒç´ ä¸ºString.Indexç±»å‹çš„CloseRangeï¼ˆé—­åŒºé—´ï¼‰
         
         Swiftçš„Stringç±»å‹æ˜¯åŸºäºUnicodeæ ‡é‡å»ºç«‹çš„ï¼Œå…ˆæ¥ä»‹ç»ä¸€ä¸‹Unicodeå’ŒUnicodeæ ‡é‡
         äººç±»ä½¿ç”¨çš„æ–‡å­—å’Œç¬¦å·è¦æƒ³è¢«è®¡ç®—æœºæ‰€ç†è§£å¿…é¡»è¦ç»è¿‡ç¼–ç ï¼ŒUnicodeå°±æ˜¯å…¶ä¸­çš„ä¸€ç§ç¼–ç æ ‡å‡†ã€‚
         ç ç‚¹ï¼šUnicodeæ ‡å‡†ä¸ºä¸–ç•Œä¸Šå‡ ä¹æ‰€æœ‰çš„ä¹¦å†™ç³»ç»Ÿé‡Œæ‰€ä½¿ç”¨çš„æ¯ä¸€ä¸ªå­—ç¬¦æˆ–ç¬¦å·å®šä¹‰äº†ä¸€ä¸ªå”¯ä¸€çš„æ•°å­—ã€‚è¿™ä¸ªæ•°å­—å«åšç ç‚¹ï¼ˆcode pointsï¼‰ï¼Œä»¥U+xxxxè¿™æ ·çš„æ ¼å¼å†™æˆï¼Œæ ¼å¼é‡Œçš„xxxxä»£è¡¨å››åˆ°å…­ä¸ªåå…­è¿›åˆ¶çš„æ•°ã€‚ä¾‹å¦‚U+0061è¡¨ç¤ºå°å†™çš„æ‹‰ä¸å­—æ¯(LATIN SMALL LETTER A)("a")ï¼ŒU+1F425è¡¨ç¤ºå°é¸¡è¡¨æƒ…(FRONT-FACING BABY CHICK) ("ğŸ¥")

         ç¼–ç æ ¼å¼ï¼šé€šè¿‡å­—ç¬¦åˆ°ç ç‚¹ä¹‹é—´çš„æ˜ å°„ï¼Œäººä»¬å¾—ä»¥ç”¨ç»Ÿä¸€çš„æ–¹å¼è¡¨ç¤ºç¬¦å·ï¼Œä½†è¿˜éœ€è¦å®šä¹‰å¦ä¸€ç§ç¼–ç æ¥ç¡®å®šç ç‚¹ä¸å…¶å­˜å‚¨åœ¨å†…å­˜å’Œç¡¬ç›˜ä¸­çš„å€¼çš„å¯¹åº”å…³ç³»ã€‚æœ‰ä¸‰ç§Unicodeæ”¯æŒçš„ç¼–ç æ ¼å¼ï¼š

         UTF-8ï¼šè¡¨ç¤ºä¸€ä¸ªç ç‚¹éœ€è¦1ï½4ä¸ªå…«ä½çš„ç å…ƒã€‚åˆ©ç”¨å­—ç¬¦ä¸²çš„utf8å±æ€§è¿›è¡Œè®¿é—®ã€‚
         UTF-16ï¼šç”¨ä¸€æˆ–ä¸¤ä¸ª16ä½çš„ç å…ƒè¡¨ç¤ºä¸€ä¸ªå—ç‚¹ã€‚åˆ©ç”¨å­—ç¬¦ä¸²çš„utf16å±æ€§è¿›è¡Œè®¿é—®ã€‚
         21ä½çš„ Unicode æ ‡é‡å€¼é›†åˆï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²çš„UTF-32ç¼–ç æ ¼å¼ï¼Œç”¨21ä½çš„ç å…ƒè¡¨ç¤ºä¸€ä¸ªç ç‚¹ã€‚åˆ©ç”¨å­—ç¬¦ä¸²çš„unicodeScalarså±æ€§è¿›è¡Œè®¿é—®ã€‚
         
         å¦‚â€œÃ©â€, â€œê¹€â€, and â€œğŸ‡®ğŸ‡³â€æ˜¯ä½œä¸ºç‹¬ç«‹çš„characterå­˜åœ¨çš„ï¼Œè¿™äº›ç‹¬ç«‹çš„characterå¯èƒ½æ˜¯ç”±å¤šä¸ªUnicodeç ç‚¹ç»„æˆçš„ã€‚
         */
        let testStr = "abc123"
        print("start = \(testStr[testStr.startIndex])")// a
        let endIndex = testStr.index(before: testStr.endIndex)// æœ€åä¸€ä¸ªå…ƒç´ 
        let endValue: Character = testStr[endIndex]
        print("endValue = \(endValue)")
//        print("end = \(testStr[testStr.endIndex])")// Fatal error: String index is out of bounds
        
        let string = "e\u{301}" // Ã©
        let charFromNSString = (string as NSString).character(at: 0)  //101 è¯´æ˜æ­¤æ–¹æ³•çš„ç´¢å¼•å¯¹è±¡æ˜¯å­—ç¬¦ä¸²å¯¹åº”çš„UTF-16ç å…ƒã€‚æ‰€ä»¥è¿”å›äº†ç´¢å¼•ä¸º0çš„ç å…ƒï¼Œå³101.å¯¹äºè¿™ç§æƒ…å†µOCä¸­æœ‰ä¸“é—¨çš„å­—ç¬¦ä¸²æ­£è§„åŒ–å¤„ç†åŠæ³•ï¼Œä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦çš„ç å…ƒé•¿åº¦
        let charFromString = string[string.startIndex]  //Ã©
        
        let enclosedEAcute: Character = "\u{E9}\u{20DD}"
        // enclosedEAcute æ˜¯ Ã©âƒ
        let regionalIndicatorForUS: Character = "\u{1F1FA}\u{1F1F8}"
        // regionalIndicatorForUS æ˜¯ ğŸ‡ºğŸ‡¸
        print("enclosedEAcute = \(enclosedEAcute) regionalIndicatorForUS = \(regionalIndicatorForUS)")
        
        
        // ========================================
        // æ•°ç»„map
//        var arr1 : [Int] = [1, 2, 3] // print: ==1== ==2== ==3==
        // å¯é€‰ç±»å‹map
        var arr1 : [Int]? = [1, 2, 3]// print: ==[1, 2, 3]==
        arr1.map {
            print("==\($0)==")
        }

        // ========================================
        // å¯é€‰ç±»å‹
        let num: Int? = 1
        switch num {
        case .none:
            print("nil")
        case .some(let intNum):
            print("intNum = \(intNum)")
        }
        
        // ========================================
        // ä¼šåˆ›å»ºå¤šä¸ªçº¿ç¨‹
        DispatchQueue.global().async {
            print("1.\(Thread.current)")
        }
        
        DispatchQueue.global().async {
            print("2.\(Thread.current)")
        }
        
        DispatchQueue.global().async {
            print("3.\(Thread.current)")
        }
        
        
        return true
    }

    func applicationWillResignActive(_ application: UIApplication) {
        // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.
        // Use this method to pause ongoing tasks, disable timers, and invalidate graphics rendering callbacks. Games should use this method to pause the game.
    }

    func applicationDidEnterBackground(_ application: UIApplication) {
        // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.
        // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.
    }

    func applicationWillEnterForeground(_ application: UIApplication) {
        // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background.
    }

    func applicationDidBecomeActive(_ application: UIApplication) {
        // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.
    }

    func applicationWillTerminate(_ application: UIApplication) {
        // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.
        
        UserDefaults.standard.set("100", forKey: "StringKey")
    }


}

// MARK: é—­åŒ…(Closure)
/**
 é—­åŒ…æœ‰ä¸‰ç§å½¢å¼:
 å…¨å±€å‡½æ•°ï¼Œæœ‰åå­—çš„é—­åŒ…å¹¶ä¸”ä¸æ•è·ä»»ä½•å€¼(å®šä¹‰çš„ä¸€èˆ¬å‡½æ•°)
 åµŒå¥—å‡½æ•°ï¼Œæœ‰åå­—çš„é—­åŒ…ï¼Œå¯ä»¥åœ¨é—­åŒ…æ‰€åœ¨å‡½æ•°å†…éƒ¨æ•è·å€¼(å‡½æ•°é‡ŒåµŒå¥—å‡½æ•°)
 é—­åŒ…è¡¨è¾¾å¼ï¼Œæ²¡æœ‰åå­—çš„é—­åŒ…ï¼Œä½¿ç”¨ç®€æ´çš„è¯­æ³•ï¼Œå¯ä»¥åœ¨åŒ…è£¹é—­åŒ…çš„ä¸Šä¸‹æ–‡æ•è·å€¼(é—­åŒ…)

 //Global function
 func block() {
     print("block")    //block
 }
 
 //Nested function
 func block(){
     let name = "block"
     func printStr() {
         print(name)
     }
     printStr()
 }
 block()    //block
 
 //Closure expression
 let block = {
     print("block")
 }
 block()    //block
 
 
 func makeIncrementer(from start: Int, amount: Int) -> ()->Int {
     var number = start
     return {
         number += amount
         return number
     }
 }
 let incrementer = makeIncrementer(from: 0, amount: 1)
 incrementer()  //1
 incrementer()  //2
 incrementer()  //3
 æ¯æ¬¡è°ƒç”¨incrementer()éƒ½ä¼šæ‰§è¡Œé—­åŒ…é‡Œé¢çš„æ“ä½œï¼Œè€Œé—­åŒ…çš„ä¸Šä¸‹æ–‡å°±æ˜¯makeIncrementerå‡½æ•°
 
 //block
 NSInteger number = 1;
 NSMutableString *str = [NSMutableString stringWithString: @"hello"];
 void(^block)() = ^{
   NSLog(@"%@--%ld", str, number);
 };
 [str appendString: @" world!"];
 number = 5;
 block();    //hello world!--1
 
 //closure
 var str = "hello"
 var number = 1
 let block = {
     print(str + "--" + " \(number)")
 }
 str.append(" world!")
 number = 5
 block()    //hello world!--5
 
 é€ƒé€¸é—­åŒ…ï¼ŒæŒ‡çš„æ˜¯å½“ä¸€ä¸ªå‡½æ•°æœ‰é—­åŒ…ä½œä¸ºå‚æ•°ï¼Œä½†æ˜¯é—­åŒ…çš„æ‰§è¡Œæ¯”å‡½æ•°çš„æ‰§è¡Œè¦è¿Ÿ
 è¿™ä¸ªé—­åŒ…çš„ä½œç”¨åŸŸæœ¬æ¥æ˜¯åœ¨å½“å‰å‡½æ•°é‡Œé¢çš„ï¼Œç„¶åå®ƒè¦é€ƒå‡ºè¿™ä¸ªä½œç”¨åŸŸï¼Œä¸æƒ³å’Œå‡½æ•°åŒå½’äºå°½
 é‚£ä¹ˆé—­åŒ…æ€ä¹ˆé€ƒé€¸å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•æ˜¯æŠŠé—­åŒ…èµ‹å€¼ç»™å¤–é¢çš„å˜é‡
 
 å¦‚æœé€ƒé€¸é—­åŒ…è®¿é—®çš„æ˜¯ç±»é‡Œé¢çš„æˆå‘˜ï¼Œå¿…é¡»å¸¦ä¸Šselfæ¥è®¿é—®
 
 è‡ªåŠ¨é—­åŒ…ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œä¸å†™"{}"ï¼Œç›´æ¥å†™è¿”å›å€¼
 */

// MARK: ---MJ---
// MARK: swift
/**
 2014.6æœˆå‘å¸ƒçš„
 2019.6 swift 5.1
 
 swift5.1  Xcode11  macos10.14
 
 OCçš„ç¼–è¯‘å™¨å‰ç«¯æ˜¯Clangï¼Œç¼–è¯‘å™¨åç«¯æ˜¯LLVM
 Swiftçš„ç¼–è¯‘å™¨å‰ç«¯æ˜¯swiftcï¼Œç¼–è¯‘å™¨åç«¯æ˜¯LLVM
 ç¼–è¯‘å™¨å‰ç«¯ï¼šè¯æ³•åˆ†æ
 ç¼–è¯‘å™¨åç«¯ï¼šLLVM ç”Ÿæˆå¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶ä»£ç 
 
 æƒ³è¿è¡Œåœ¨iosç³»ç»Ÿï¼Œæœ€ç»ˆç”Ÿæˆçš„æ˜¯ARMæ¶æ„çš„ä»£ç 
 
 ç”Ÿæˆswiftè¯­æ³•æ ‘
 swiftc -dump-ast main.swift
 ç”Ÿæˆæœ€ç®€æ´çš„silä»£ç 
 swiftc -emit-sil main.swift
 ç”ŸæˆLLVM IRä»£ç 
 swiftc -emit-ir main.swift -o main.ll
 ç”Ÿæˆæ±‡ç¼–ä»£ç 
 swift -emit-assembly main.swift -o main.s
 
 å¯¹æ±‡ç¼–ä»£ç è¿›è¡Œåˆ†æï¼Œèƒ½çœŸæ­£æŒæ¡ç¼–ç¨‹è¯­è¨€çš„æœ¬è´¨
 
 import PlaygroundSupport
 PlaygroundPage.current.liveView = view
 
 // å…ƒç¥–
 let tuple1 = (404, "Not Found")
 let tuple2 = (code: 404, msg: "Not Found")
 let (statusCode, statusMsg) = tuple1
 let (statusCode, _) = tuple1
 print(statusCode)
 
 if åé¢çš„æ¡ä»¶åªèƒ½æ˜¯boolç±»å‹ï¼Œä¸åƒocé‡Œé¢ é0çš„å°±æ˜¯true
 
 // ä¸åŠ varé»˜è®¤æ˜¯let
 for var i in 0...3 {
 i+=5
 print(i)
 }
 
 åŒºé—´è¿ç®—ç¬¦ç”¨åœ¨æ•°ç»„ä¸Š,namesæ˜¯ä¸ªæ•°ç»„
 for name in names[0...3] {
 
 }
 
 åŒºé—´ç±»å‹
 ClosedRange: 1...3
 Range: 1..<3
 PartialRangeThrough: ...5
 
 å¸¦é—´éš”çš„åŒºé—´å€¼
 let hours = 11
 let hourInterval = 2
 ä»4å¼€å§‹ï¼Œç´¯åŠ 2ï¼Œä¸sè¶…è¿‡11
 for tickMark in stride(from: 4, through: hours, by: hourInterval) {
 // 4,6,8,10
 }
 
 ASCII
 "\0"..."~"
 
 swicthé»˜è®¤å¯ä»¥ä¸å†™breakï¼Œå¹¶ä¸ä¼šè´¯ç©¿åˆ°åé¢
 fallthroughå®ç°è´¯ç©¿æ•ˆæœ
 å¦‚æœä½¿ç”¨äº†fallthrough è¯­å¥ï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œä¹‹åçš„ case æˆ– default è¯­å¥ï¼Œä¸è®ºæ¡ä»¶æ˜¯å¦æ»¡è¶³éƒ½ä¼šæ‰§è¡Œã€‚
 caseï¼Œdefaultåé¢è‡³å°‘è¦æœ‰ä¸€æ¡è¯­å¥ï¼Œdefaultä¸å¤„ç†çš„è¯åŠ break
 æšä¸¾ç±»å‹å¯ä»¥ä¸å¿…ä½¿ç”¨default
 æ”¯æŒStringï¼ŒCharacter
 å¤åˆæ¡ä»¶ï¼šcase "jack", "rose":
 åŒºé—´åŒ¹é…ï¼šcase 1..<5:
 å…ƒç¥–åŒ¹é…:
 let point = (1, 1)
 case (0,0):
 case (_, 0):
 case (-2...2, -2...2): // åŒ¹é…è¿™ä¸ª
 å€¼ç»‘å®š: let point = (2, 0)
 case (let x, 0): // 0åŒ¹é…ï¼ŒæŠŠ2èµ‹å€¼ç»™x
 case let (x, y):
 where:
 let point = (1, -1)
 case let (x, y) where x == -y:
 
 numbersæ˜¯æ•°ç»„
 for num in numbers where num > 0 {
 
 }
 
 41:23
 */

// MARK: å­—é¢é‡
/**
 å¯å­˜ASCIIå­—ç¬¦ï¼ŒUnicodeå­—ç¬¦
 let ch: Character = ""
 
 let doubleDecimal = 125.0 // 1.25e2 ç­‰ä»·äº1.25*(10^2)
 
 // 16è¿›åˆ¶
 0xFp2 ç­‰ä»·äº 15*(2^2)
 
 1000000 ç­‰ä»·äº 100_0000
 
 000123.456
 
 let array = [1, 2, 3]
 */

// MARK:ç±»å‹è½¬æ¢
/**
 let int1: UInt16 = 2_000
 let int2: UInt8 = 1
 let int3 = int1 + UInt16(int2) // æŠŠå†…å­˜å ç”¨å°çš„è½¬æˆå¤§çš„
 */



// MARK: ---æ±‡ç¼–
/**
 æŒ‡ä»¤:
 callq è¡¨ç¤ºå‡½æ•°è°ƒç”¨
 addq åŠ æ³•
 */
