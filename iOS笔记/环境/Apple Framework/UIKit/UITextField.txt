[self.amountTextField addTarget:self action:@selector(textFieldDidEditChanged:) forControlEvents:UIControlEventEditingChanged];
[self.amountTextField addTarget:self action:@selector(textFieldDidEditEnded:) forControlEvents:UIControlEventEditingDidEnd];


因为当我们使用系统的拼音输入法输入中文时，首先需要输入拼音字母，这个叫做 marked text
marked text 也是会被 shouldChangeCharactersIn 方法强制获取到的

非中文：[^\\u4E00-\\u9FA5]
非英文：[^A-Za-z]
非数字：[^0-9]
非中文或英文：[^A-Za-z\\u4E00-\\u9FA5]
非英文或数字：[^A-Za-z0-9]
非因为或数字或下划线：[^A-Za-z0-9_]





func textField(_ textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String) -> Bool {
        let currentText = textField.text ?? ""
        let newText = (currentText as NSString).replacingCharacters(in: range, with: string)

        if textField == txtPassword && textField.isSecureTextEntry {
            txtPassword.text = newText
            // return false 不走 UITextFieldTextDidChange通知
            return false
        }
        return true// 当前text=abc 输入d，return true 这边拿到的是abc，UITextFieldTextDidChange拿到的才是abcd
    }