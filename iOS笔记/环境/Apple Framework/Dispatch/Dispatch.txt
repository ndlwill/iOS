https://developer.apple.com/documentation/dispatch

Task Synchronization
Dispatch Semaphore // 调度信号量
An object that controls access to a resource across multiple execution contexts through use of a traditional counting semaphore.

Dispatch Barrier // 调度屏障
A synchronization point for tasks executing in a concurrent dispatch queue.
#####
Use a barrier to synchronize the execution of one or more tasks in your dispatch queue.
When you add a barrier to a concurrent dispatch queue, the queue delays the execution of the barrier block (and any tasks submitted after the barrier) until all previously submitted tasks finish executing.
After the previous tasks finish executing, the queue executes the barrier block by itself. 
Once the barrier block finishes, the queue resumes its normal execution behavior.
#####


理解 “Synchronization” 的含义和它在多任务/多线程环境下的作用
#####
Synchronization 在计算机科学里，一般指协调多个任务的执行顺序或访问共享资源的方式，确保数据一致性和程序正确性。
#####
在多线程/多任务环境下，多个任务可能同时访问同一块内存或者共享资源，如果不进行同步，就可能出现：
数据竞争（Race Condition）
不确定的执行顺序
崩溃或逻辑错误

所以 Synchronization = 同步 / 协调任务执行顺序。


GCD 提供了很多机制来实现任务同步（Task Synchronization），可以大致分为 同步调度 和 同步工具 两类：
(1) 同步调度 (Synchronous Execution)
dispatch_sync(queue, block)
当前线程会等待 block 执行完成才继续。
可以保证任务完成的顺序。
典型场景：你希望在继续之前完成某个任务。

(2) 异步调度 + 同步工具
dispatch_group
可以把一组任务加入同一个 group，然后等待 group 完成。
dispatch_group_wait / dispatch_group_notify 可以实现任务间的同步。

dispatch_barrier (针对并行队列)
在并行队列中插入一个“栅栏任务”，保证在 barrier 前的任务都执行完，barrier 完成后再执行后续任务。

dispatch_semaphore
信号量，用来控制对共享资源的访问数量（比如互斥访问）。

dispatch_once
确保某段代码只执行一次（线程安全）。