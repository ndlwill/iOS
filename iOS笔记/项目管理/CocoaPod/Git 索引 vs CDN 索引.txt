pod repo list

trunk
- Type: CDN // 这只是 CocoaPods 默认的官方 CDN 索引
- URL:  https://cdn.cocoapods.org/
- Path: /Users/youdun-ndl/.cocoapods/repos/trunk


添加私有 Git 仓库:
pod repo add MyPrivateRepo https://github.com/username/MyPrivateSpecs.git

MyPrivateRepo → 你给本地仓库取的名字
URL → 你的 Git 仓库地址（存放 .podspec 文件）
添加后，你可以在 Podfile 里使用：
source 'https://github.com/username/MyPrivateSpecs.git'
source 'https://cdn.cocoapods.org/'   # 官方 CDN
pod 'MyPrivatePod', '~> 1.0'

注意：Podfile 里的 source 顺序会影响解析顺序，先找私有仓库，再找官方 CDN。


更新私有仓库
pod repo update MyPrivateRepo


==================================================CocoaPods 里的 索引
CocoaPods 里的 索引（Specs repo / CDN 索引），就是用来 记录所有 Pod 的版本、依赖关系、源码地址、子模块信息等元数据 的“目录”或“数据库”。

具体作用:
查找 Pod 信息
CocoaPods 通过索引知道一个 Pod 存在哪些版本。
例如 Firebase/Analytics 有哪些版本可用。

解析依赖关系
索引里记录了每个 Pod 的依赖（dependency）。
例如 Firebase/Analytics → 依赖 Firebase/Core → 再依赖 FirebaseAnalytics。
CocoaPods 会根据索引自动计算要安装哪些 Pod。

避免每次都去网络查
本地有索引的话，pod install 可以快速解析依赖。
CDN 索引则是轻量化的远程版本，每次更新比 Git 仓库快很多。

支持版本约束
索引里记录每个 Pod 的版本号，CocoaPods 根据 ~> 12.2 或 >= 8.0 来选择合适版本。


索引 = Pod 元数据仓库，不包含源代码。

作用 = 帮助 CocoaPods 知道
Pod 存在哪些版本
版本对应哪些依赖
从哪里下载源码


Git 仓库索引（老方式）
pod repo list
pod repo update
特点：
本地 clone 了整个 Specs 仓库（几 GB）
每次有新 Pod 或新版本，你 需要手动 pod repo update，才能看到最新版本
如果不更新，pod install 只能安装索引里已有的版本


CDN 索引（推荐方式，CocoaPods 1.7+ 默认）
pod install
pod update
特点：
CocoaPods 会自动从 CDN 拉取最新的元数据（轻量 JSON 文件）
不需要手动更新


| 类型       | 是否需要手动更新 | 更新命令                        |
| -------- | -------- | --------------------------- |
| Git 仓库索引 | 是        | `pod repo update`           |
| CDN 索引   | 否（可选）    | `pod install --repo-update` |



修改 Podfile 指定源：
Podfile 默认会隐式使用官方 CDN：
# 默认（隐式使用 CDN）
pod 'Alamofire', '~> 5.6'

要关闭 CDN，可以 显式指定 Git 源：
# 指向官方 Git 仓库而非 CDN
source 'https://github.com/CocoaPods/Specs.git' 
# 或者你的私有仓库
source 'https://github.com/username/MyPrivateSpecs.git'

# 再写 Pod
pod 'Alamofire', '~> 5.6'
pod 'MyPrivatePod', '~> 1.0'


#####
Podfile → 指定 Pod → CocoaPods 去索引找对应的 podspec → 解析依赖 → 下载源码

CocoaPods 的 索引（无论是 CDN 还是 Git 仓库）主要就是用来 存放 .podspec 的元数据，核心作用就是让 CocoaPods 知道：
这个 Pod 有哪些版本
每个版本的依赖关系是什么
源码在哪里
子模块 / 平台 / Swift 版本等信息

索引 = Podspec 的目录 / 数据库
podspec = Pod 的具体描述（版本、依赖、源码路径、平台等）
#####


==================================================https://guides.cocoapods.org/syntax/podfile.html#source
The Podfile retrieves specs from a given list of sources (repositories). // Podfile 从给定的源（存储库）列表中检索规范。

source
Specifies the location of specs // 指定 spec 的位置

Use this method to specify sources. The order of the sources is relevant. 
CocoaPods will use the highest version of a Pod of the first source which includes the Pod (regardless whether other sources have a higher version).

The official CocoaPods source is implicit. Once you specify another source, then it will need to be included.

Specifying to first use the Artsy repository and then the CocoaPods Master Repository
source 'https://github.com/artsy/Specs.git'
source 'https://cdn.cocoapods.org/'


https://github.com/CocoaPods/CocoaPods


==================================================CocoaPods 1.7.2 — Master Repo CDN is Finalized!
https://blog.cocoapods.org/
https://blog.cocoapods.org/archives/
https://blog.cocoapods.org/CocoaPods-1.7.2/


CDN 全称 Content Delivery Network（内容分发网络）
核心作用：把内容缓存到离用户更近的节点，提高访问速度和可靠性
典型用途：
静态文件（JS、CSS、图片、视频）分发
软件包 / 安装包分发（比如 CocoaPods、npm、Homebrew）
API 加速（部分 CDN 支持动态请求缓存）


CDN 工作原理
分布式节点：
CDN 在全球或区域部署多个节点（Edge Servers）
用户请求内容时，会路由到 最近、最优的节点

缓存机制：
节点缓存源站的内容（静态资源或 JSON 元数据）
用户再次请求同一内容时，从缓存直接返回 → 响应快

回源机制：
如果缓存中没有请求的内容，节点会去 源站（Origin Server） 拉取
拉取后缓存起来，供后续用户访问

HTTP 优化：
CDN 节点通常支持 HTTP/2 或 HTTP/3 并发下载
支持压缩、断点续传等优化 → 比传统 Git clone 或单服务器下载快


#####
CocoaPods 1.7.2 brings with it the final version of CDN support for the trunk specs repo.
CocoaPods is moving to use a CDN which is located at https://cdn.cocoapods.org/ and is still considered experimental. 
A future release will make it the default spec source.

A CDN is a Content Delivery Network - what this means for CocoaPods is that using CocoaPods won't require you to have a local copy of all the public Podspecs on your computer. 
Saving you about a GB of file storage, and shaving a lot of time off pod installs.


Usage:
If you have private specs:
source 'https://github.com/artsy/Specs.git'
- source 'https://github.com/CocoaPods/Specs.git'
+ source 'https://cdn.cocoapods.org/'

Doing this will break your Podfile.lock, so you are likely to need to run pod update to see the changes (be careful, this may update your Pods also).

In an upcoming release, we are planning to make the CDN source the default source!
#####