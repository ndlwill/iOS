https://github.com/swiftlang/swift-evolution/blob/main/proposals/0418-inferring-sendable-for-methods.md

Inferring Sendable for methods and key path literals

Implemented since Swift 6.0
Upcoming Feature Flag: InferSendableFromCaptures
Always enabled in Swift 6 language mode


Improves Swift’s concurrency usability by automatically inferring @Sendable for methods and key path literals when it’s safe. 
If a method belongs to a Sendable type, you no longer need to manually mark partial or unapplied references as @Sendable—the compiler will do it for you.

Similarly, key paths only need to be Sendable when they’re used in concurrent contexts, avoiding confusing warnings.


如果类型本身是 Sendable，方法引用会自动变成 @Sendable。
struct Counter: Sendable {
    var value: Int

    func getValue() -> Int {
        value
    }
}

let c = Counter(value: 10)

// 方法引用
let f = c.getValue   // 自动推断为  @Sendable () -> Int

Task {
    print(await f()) // OK：可跨 actor 边界使用
}


KeyPath 字面量现在也能推断为 Sendable
let kp = \Counter.value     // 推断为 KeyPath<Counter, Int> & Sendable

Task {
    let _ = kp   // OK
}
