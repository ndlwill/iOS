Structured vs Unstructured Tasks

Structured (preferred)
Bound to parent, inherit context, automatic cancellation:
// async let
async let data1 = fetch(1)
async let data2 = fetch(2)
let results = await [data1, data2]

// Task groups
await withTaskGroup(of: Data.self) { group in
    group.addTask { await fetch(1) }
    group.addTask { await fetch(2) }
}



Unstructured (use sparingly)
Independent lifecycle, manual cancellation:
// Regular task (unstructured but inherits priority)
let task = Task {
    await doWork()
}

// Detached task (completely independent)
Task.detached(priority: .background) {
    await cleanup()
}